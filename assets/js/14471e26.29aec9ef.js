"use strict";(self.webpackChunkmy_document=self.webpackChunkmy_document||[]).push([[6513],{6:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>u,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"Installation/document","title":"Installation docusaurus","description":"* Une configuration de base pr\xeate \xe0 l\'emploi","source":"@site/docs/Installation/document.md","sourceDirName":"Installation","slug":"/Installation/document","permalink":"/my-docs/docs/Installation/document","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Installation/document.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Translate your site","permalink":"/my-docs/docs/tutorial-extras/translate-your-site"}}');var i=r(4848),t=r(8453);const o={},u="Installation docusaurus",a={},c=[{value:"Structure",id:"structure",level:2},{value:"la personnalisation que tu souhaites pour ton starter Docusaurus.",id:"la-personnalisation-que-tu-souhaites-pour-ton-starter-docusaurus",level:2},{value:"1. Pr\xe9pare ton projet Docusaurus avec GitHub page",id:"1-pr\xe9pare-ton-projet-docusaurus-avec-github-page",level:2},{value:"2. Configure Docusaurus pour GitHub Pages",id:"2-configure-docusaurus-pour-github-pages",level:2},{value:"1. <strong>La solution simple (local, via token GitHub)</strong>",id:"1-la-solution-simple-local-via-token-github",level:2},{value:"a. G\xe9n\xe8re un Personal Access Token (PAT)",id:"a-g\xe9n\xe8re-un-personal-access-token-pat",level:3},{value:"b. Configure la variable d\u2019environnement GIT_USER et GITHUB_TOKEN",id:"b-configure-la-variable-denvironnement-git_user-et-github_token",level:3},{value:"3. Ajoute le script de d\xe9ploiement",id:"3-ajoute-le-script-de-d\xe9ploiement",level:2},{value:"4. Configure GitHub Pages depuis l\u2019interface GitHub",id:"4-configure-github-pages-depuis-linterface-github",level:2},{value:"## 5. Automatiser la mise \xe0 jour \xe0 chaque push (GitHub Actions)",id:"-5-automatiser-la-mise-\xe0-jour-\xe0-chaque-push-github-actions",level:2},{value:"6. Teste le d\xe9ploiement automatique",id:"6-teste-le-d\xe9ploiement-automatique",level:2},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"installation-docusaurus",children:"Installation docusaurus"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"npx create-docusaurus@latest my-website classic --typescript\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"    my-docusaurus-site/\r\n    \u251c\u2500\u2500 blog/\r\n    \u2502   \u2514\u2500\u2500 2023-01-01-welcome.md\r\n    \u251c\u2500\u2500 docs/\r\n    \u2502   \u2514\u2500\u2500 intro.md\r\n    \u251c\u2500\u2500 src/\r\n    \u2502   \u2514\u2500\u2500 pages/\r\n    \u2502       \u2514\u2500\u2500 index.js\r\n    \u251c\u2500\u2500 static/\r\n    \u2502   \u2514\u2500\u2500 img/\r\n    \u2502       \u2514\u2500\u2500 docusaurus.png\r\n    \u251c\u2500\u2500 docusaurus.config.js\r\n    \u251c\u2500\u2500 sidebars.js\r\n    \u251c\u2500\u2500 package.json\r\n    \u251c\u2500\u2500 README.md\r\n    \u2514\u2500\u2500 .gitignore\r\n\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Une configuration de base pr\xeate \xe0 l'emploi"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Une structure de projet avec des dossiers pour la documentation, le blog et les pages"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Un exemple de page d\u2019accueil, de documentation et de blog"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Un fichier README pour t\u2019expliquer comment lancer le projet"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Les fichiers essentiels (package.json, docusaurus.config.js, sidebars.js, etc.)"}),"\n",(0,i.jsx)(n.h2,{id:"structure",children:"Structure"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"docs/"})," : Documentation principale"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"blog/"})," : Articles de blog"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/pages"})," : Pages personnalis\xe9es (accueil, etc.)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"static/"})," : Fichiers statiques (images, etc.)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"la-personnalisation-que-tu-souhaites-pour-ton-starter-docusaurus",children:"la personnalisation que tu souhaites pour ton starter Docusaurus."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"1. Logo personnalis\xe9 (fichier/image \xe0 fournir ou lien)\r\n2. Couleurs de th\xe8me (couleurs principales, secondaires, arri\xe8re-plan)\r\n3. Sidebar (structure/navigation sp\xe9cifique, cat\xe9gories, multi-niveaux)\r\n4. Pages suppl\xe9mentaires (ex : page \xab \xc0 propos \xbb, FAQ, \xe9quipe, contact\u2026)\r\n5. Ajout d\u2019un moteur de recherche (Algolia ou autre)\r\n6. Int\xe9gration de Google Analytics ou autre outil d\u2019analyse\r\n7. Affichage du mode sombre par d\xe9faut\r\n8. Mise en avant d\u2019un projet ou d\u2019une fonctionnalit\xe9 en page d\u2019accueil\r\n9. Pied de page personnalis\xe9 (liens, mentions l\xe9gales)\r\n10. Liens vers tes r\xe9seaux sociaux ou outils internes\r\n11. Langues multiples (i18n)\r\n12. Autre (dis-moi tes besoins sp\xe9cifiques)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"1-pr\xe9pare-ton-projet-docusaurus-avec-github-page",children:"1. Pr\xe9pare ton projet Docusaurus avec GitHub page"}),"\n",(0,i.jsx)(n.p,{children:"Assure-toi d\u2019avoir :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"* Un repo GitHub (public ou priv\xe9)\r\n* Ton site Docusaurus pr\xeat (dans un dossier, avec le code de base)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"2-configure-docusaurus-pour-github-pages",children:"2. Configure Docusaurus pour GitHub Pages"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["a. Modifie ",(0,i.jsx)(n.code,{children:"docusaurus.config.js"})]})}),"\n",(0,i.jsx)(n.p,{children:"Exemple :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"    url: 'https://Gerardetienne.github.io',\r\n    baseUrl: '/my-docusaurus-site/',\r\n    organizationName: 'Gerardetienne',\r\n    projectName: 'my-docusaurus-site',\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"b. Ajoute la branche de d\xe9ploiement"}),"\r\nPar d\xe9faut, Docusaurus d\xe9ploie dans la branche ",(0,i.jsx)(n.code,{children:"gh-pages"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"en cas d'erreur :"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"[ERROR] Error: Error while executing command `git rm -rf .`\r\nfatal: pathspec '.' did not match any files\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause de l'erreur :"}),"\r\nCette erreur signifie que Git essaie de supprimer tous les fichiers (git rm -rf .) dans le r\xe9pertoire temporaire clon\xe9 de la branche gh-pages, mais ce dossier est vide : il n\u2019y a aucun fichier suivi par Git \xe0 cet endroit."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"* La branche gh-pages est vide ou mal initialis\xe9e.\r\n* Aucun commit n\u2019a jamais \xe9t\xe9 fait sur cette branche.\r\n* Le d\xe9p\xf4t distant ne contient rien dans gh-pages.\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Important : T'assurer que la branche gh-pages existe et a au moins un commit"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"il faut le creer manuelement pour eviter l'eventueles erreur ci-dessus :\r\n\r\n**etape1**\r\nen cas d'erreur **[ERROR] Error: Please set the GIT\\_USER environment variable, or explicitly specify USE\\_SSH instead!**\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Docusaurus ne sait pas comment s\u2019authentifier pour pousser sur la branche ",(0,i.jsx)(n.code,{children:"gh-pages"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"donc :"}),"\n",(0,i.jsxs)(n.h2,{id:"1-la-solution-simple-local-via-token-github",children:["1. ",(0,i.jsx)(n.strong,{children:"La solution simple (local, via token GitHub)"})]}),"\n",(0,i.jsx)(n.h3,{id:"a-g\xe9n\xe8re-un-personal-access-token-pat",children:"a. G\xe9n\xe8re un Personal Access Token (PAT)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"1. Va sur <https://github.com/settings/tokens>\r\n2. Clique sur \xab Generate new token \xbb (classic)\r\n3. Donne un nom, choisis une expiration, et coche :\r\n  * repo (pour un repo priv\xe9)\r\n  * public\\_repo (si ton repo est public)\r\n4. Clique sur \xab Generate token \xbb et copie le token.\n"})}),"\n",(0,i.jsx)(n.h3,{id:"b-configure-la-variable-denvironnement-git_user-et-github_token",children:"b. Configure la variable d\u2019environnement GIT_USER et GITHUB_TOKEN"}),"\n",(0,i.jsx)(n.p,{children:"Dans ton terminal, lance :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'$env:GIT_USER="Gerardetienne"\r\n$env:GITHUB_TOKEN="ton_token_github"\r\nnpm run deploy\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"etape 2"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'git checkout --orphan gh-pages\r\ngit add .\r\ngit commit -m "Initial gh-pages commit"\r\ngit push origin gh-pages\r\n\n'})}),"\n",(0,i.jsx)(n.p,{children:"Apr\xe8s :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"git checkout main\r\nnpm run build\r\nnpm run deploy\n"})}),"\n",(0,i.jsx)(n.h2,{id:"3-ajoute-le-script-de-d\xe9ploiement",children:"3. Ajoute le script de d\xe9ploiement"}),"\n",(0,i.jsxs)(n.p,{children:["Dans ",(0,i.jsx)(n.code,{children:"package.json"}),", ajoute (si ce n\u2019est pas d\xe9j\xe0 fait) :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'    "scripts": {\r\n      "deploy": "docusaurus deploy"\r\n    }\n'})}),"\n",(0,i.jsx)(n.h2,{id:"4-configure-github-pages-depuis-linterface-github",children:"4. Configure GitHub Pages depuis l\u2019interface GitHub"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["Va dans ",(0,i.jsx)(n.strong,{children:"Settings > Pages"})," de ton repo GitHub."]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'Choisis :\r\n\r\n* Source: **Deploy from a branch**\r\n* Branche: **gh-pages**\r\n* Dossier: **/** (racine)\r\n\r\n*Clique sur "Save"*.\r\n\r\n\r\nTon site sera disponible \xe0 l\u2019adresse :\r\n`https://ton-utilisateur.github.io/nom-du-repo/`\n'})}),"\n",(0,i.jsx)(n.h2,{id:"-5-automatiser-la-mise-\xe0-jour-\xe0-chaque-push-github-actions",children:"## 5. Automatiser la mise \xe0 jour \xe0 chaque push (GitHub Actions)"}),"\n",(0,i.jsx)(n.p,{children:"Docusaurus fournit un workflow GitHub Actions tout pr\xeat !"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"a. Cr\xe9e un fichier de workflow"})}),"\n",(0,i.jsxs)(n.p,{children:["Dans ",(0,i.jsx)(n.code,{children:".github/workflows/deploy.yml"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"    name: Deploy Docusaurus to GitHub Pages\r\n\r\n    on:\r\n      push:\r\n        branches: [main]\r\n\r\n    jobs:\r\n      deploy:\r\n        runs-on: ubuntu-latest\r\n        steps:\r\n          - name: Checkout repository\r\n            uses: actions/checkout@v4\r\n\r\n          - name: Setup Node.js\r\n            uses: actions/setup-node@v4\r\n            with:\r\n              node-version: '18'\r\n\r\n          - name: Install dependencies\r\n            run: npm ci\r\n\r\n          - name: Build website\r\n            run: npm run build\r\n\r\n          - name: Deploy to GitHub Pages\r\n            env:\r\n              GIT_USER: ${{ github.actor }}\r\n              GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\r\n            run: |\r\n              npm run deploy\r\n\n"})}),"\n",(0,i.jsx)(n.h2,{id:"6-teste-le-d\xe9ploiement-automatique",children:"6. Teste le d\xe9ploiement automatique"}),"\n",(0,i.jsxs)(n.p,{children:["Fais un commit/push sur ",(0,i.jsx)(n.code,{children:"main"}),' et v\xe9rifie dans l\u2019onglet "Actions" de GitHub que le workflow se lance et met \xe0 jour ton site.']}),"\n",(0,i.jsx)(n.h2,{id:"en-r\xe9sum\xe9",children:"En r\xe9sum\xe9"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"1. Configure `docusaurus.config.js` et `package.json`\r\n2. Premi\xe8re publication avec `npm run deploy`\r\n3. Cr\xe9e `.github/workflows/deploy.yml` pour l\u2019automatisation\r\n4. Chaque push sur `main` d\xe9ploie automatiquement ton site sur GitHub Pages !\n"})})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>u});var s=r(6540);const i={},t=s.createContext(i);function o(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function u(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);