"use strict";(self.webpackChunkmy_document=self.webpackChunkmy_document||[]).push([[2203],{1382:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"Linux-astuce/document","title":"LINUX SERVEUR","description":"Auteur : Gerardetienne","source":"@site/docs/Linux-astuce/document.mdx","sourceDirName":"Linux-astuce","slug":"/Linux-astuce/document","permalink":"/my-docs/docs/Linux-astuce/document","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Linux-astuce/document.mdx","tags":[],"version":"current","frontMatter":{"title":"LINUX SERVEUR"},"sidebar":"tutorialSidebar","previous":{"title":"Installation docusaurus","permalink":"/my-docs/docs/Installation/document"},"next":{"title":"LINUX Divers","permalink":"/my-docs/docs/Linux-astuce/document1"}}');var i=r(4848),l=r(8453),a=r(5946);const d={title:"LINUX SERVEUR"},t="\ud83d\udd27 Guide Complet d'Administration Syst\xe8me",c={},o=[{value:"\ud83d\udccb Table des Mati\xe8res",id:"-table-des-mati\xe8res",level:2},{value:"\ud83c\udf10 Diagnostics R\xe9seau",id:"-diagnostics-r\xe9seau",level:2},{value:"\ud83d\udd0d R\xe9solution DNS",id:"-r\xe9solution-dns",level:3},{value:"\ud83d\udee1\ufe0f Analyse de ports avec Nmap",id:"\ufe0f-analyse-de-ports-avec-nmap",level:3},{value:"Installation",id:"installation",level:4},{value:"Utilisation",id:"utilisation",level:4},{value:"\ud83d\udd11 SSH et Authentification",id:"-ssh-et-authentification",level:2},{value:"\ud83d\udeaa Connexion SSH avec cl\xe9",id:"-connexion-ssh-avec-cl\xe9",level:3},{value:"Avec fichier de cl\xe9",id:"avec-fichier-de-cl\xe9",level:4},{value:"Sans cl\xe9 (authentification par mot de passe)",id:"sans-cl\xe9-authentification-par-mot-de-passe",level:4},{value:"\ud83d\udd27 R\xe9solution des probl\xe8mes SSH",id:"-r\xe9solution-des-probl\xe8mes-ssh",level:3},{value:"En cas de changement de cl\xe9 d&#39;h\xf4te",id:"en-cas-de-changement-de-cl\xe9-dh\xf4te",level:4},{value:"Correction des permissions de cl\xe9 priv\xe9e",id:"correction-des-permissions-de-cl\xe9-priv\xe9e",level:4},{value:"\ud83d\udcca Surveillance Syst\xe8me",id:"-surveillance-syst\xe8me",level:2},{value:"\ud83d\udcbe Surveillance de l&#39;espace disque",id:"-surveillance-de-lespace-disque",level:3},{value:"\ud83d\udd0d Analyse de la taille des fichiers et dossiers",id:"-analyse-de-la-taille-des-fichiers-et-dossiers",level:3},{value:"Top 10 des fichiers/dossiers les plus volumineux",id:"top-10-des-fichiersdossiers-les-plus-volumineux",level:4},{value:"\ud83e\udde0 Surveillance de la m\xe9moire RAM",id:"-surveillance-de-la-m\xe9moire-ram",level:3},{value:"\u26a1 Surveillance CPU et performances",id:"-surveillance-cpu-et-performances",level:3},{value:"\ud83d\udc65 Gestion des utilisateurs et groupes",id:"-gestion-des-utilisateurs-et-groupes",level:3},{value:"\ud83d\udc33 Docker Administration",id:"-docker-administration",level:2},{value:"\ud83d\udccb Gestion des conteneurs",id:"-gestion-des-conteneurs",level:3},{value:"Lister et inspecter",id:"lister-et-inspecter",level:4},{value:"Acc\xe8s aux conteneurs",id:"acc\xe8s-aux-conteneurs",level:4},{value:"Gestion des services",id:"gestion-des-services",level:4},{value:"\ud83d\udcdd Gestion des Logs",id:"-gestion-des-logs",level:2},{value:"\ud83d\udd0d Consultation des logs syst\xe8me",id:"-consultation-des-logs-syst\xe8me",level:3},{value:"Logs Apache",id:"logs-apache",level:4},{value:"Logs WordPress",id:"logs-wordpress",level:4},{value:"Logs Cron",id:"logs-cron",level:4},{value:"\ud83e\uddf9 Nettoyage automatique des logs",id:"-nettoyage-automatique-des-logs",level:3},{value:"Script de nettoyage",id:"script-de-nettoyage",level:4},{value:"Configuration et ex\xe9cution",id:"configuration-et-ex\xe9cution",level:4},{value:"\ud83c\udf9b\ufe0f Cron et T\xe2ches Planifi\xe9es",id:"\ufe0f-cron-et-t\xe2ches-planifi\xe9es",level:2},{value:"\u2699\ufe0f Gestion de Crontab",id:"\ufe0f-gestion-de-crontab",level:3},{value:"\ud83d\udce7 Script d&#39;alerte par email",id:"-script-dalerte-par-email",level:3},{value:"Configuration pour surveillance RAM",id:"configuration-pour-surveillance-ram",level:4},{value:"\ud83d\udc18 WordPress et WP-CLI",id:"-wordpress-et-wp-cli",level:2},{value:"\ud83d\udce6 Installation de WP-CLI",id:"-installation-de-wp-cli",level:3},{value:"\ud83d\udd27 Gestion des plugins",id:"-gestion-des-plugins",level:3},{value:"Lister et g\xe9rer",id:"lister-et-g\xe9rer",level:4},{value:"D\xe9sinstallation",id:"d\xe9sinstallation",level:4},{value:"\ud83d\udc65 Gestion des utilisateurs",id:"-gestion-des-utilisateurs",level:3},{value:"\ud83d\uddc4\ufe0f Gestion de la base de donn\xe9es",id:"\ufe0f-gestion-de-la-base-de-donn\xe9es",level:3},{value:"Import/Export",id:"importexport",level:4},{value:"Rechercher et remplacer",id:"rechercher-et-remplacer",level:4},{value:"\u2601\ufe0f AWS et Sauvegarde",id:"\ufe0f-aws-et-sauvegarde",level:2},{value:"\ud83d\udee0\ufe0f Installation AWS CLI",id:"\ufe0f-installation-aws-cli",level:3},{value:"\u2699\ufe0f Configuration AWS CLI",id:"\ufe0f-configuration-aws-cli",level:3},{value:"\ud83d\udcc1 Gestion des fichiers S3",id:"-gestion-des-fichiers-s3",level:3},{value:"Upload vers S3",id:"upload-vers-s3",level:4},{value:"Download depuis S3",id:"download-depuis-s3",level:4},{value:"Suppression",id:"suppression",level:4},{value:"\ud83d\udd10 S\xe9curit\xe9 et Permissions",id:"-s\xe9curit\xe9-et-permissions",level:2},{value:"\ud83d\udcc2 Gestion des permissions",id:"-gestion-des-permissions",level:3},{value:"Permissions globales",id:"permissions-globales",level:4},{value:"Permissions utilisateur sp\xe9cifiques",id:"permissions-utilisateur-sp\xe9cifiques",level:4},{value:"\ud83d\udd04 Changement d&#39;utilisateur",id:"-changement-dutilisateur",level:3},{value:"\ud83d\udee0\ufe0f Scripts Bash Avanc\xe9s",id:"\ufe0f-scripts-bash-avanc\xe9s",level:2},{value:"\ud83d\udce7 Configuration Swaks pour emails",id:"-configuration-swaks-pour-emails",level:3},{value:"Installation",id:"installation-1",level:4},{value:"Utilisation basique",id:"utilisation-basique",level:4},{value:"Avec pi\xe8ce jointe",id:"avec-pi\xe8ce-jointe",level:4},{value:"\ud83d\udd0d Conditions et boucles Bash",id:"-conditions-et-boucles-bash",level:3},{value:"Script de surveillance d&#39;espace disque",id:"script-de-surveillance-despace-disque",level:4},{value:"Script de surveillance RAM avanc\xe9",id:"script-de-surveillance-ram-avanc\xe9",level:4},{value:"\ud83d\udd27 Gestion avanc\xe9e des scripts",id:"-gestion-avanc\xe9e-des-scripts",level:3},{value:"Permissions d&#39;ex\xe9cution",id:"permissions-dex\xe9cution",level:4},{value:"M\xe9thodes d&#39;ex\xe9cution",id:"m\xe9thodes-dex\xe9cution",level:4},{value:"\ud83d\udd0d Recherche et Filtrage Avanc\xe9s",id:"-recherche-et-filtrage-avanc\xe9s",level:2},{value:"\ud83d\udd0e Recherche avec Grep",id:"-recherche-avec-grep",level:3},{value:"Dans les fichiers",id:"dans-les-fichiers",level:4},{value:"Dans les logs",id:"dans-les-logs",level:4},{value:"\ud83d\udcc1 Gestion avanc\xe9e des fichiers",id:"-gestion-avanc\xe9e-des-fichiers",level:3},{value:"Recherche par date",id:"recherche-par-date",level:4},{value:"\ud83d\udcbe Gestion de la M\xe9moire Virtuelle (Swap)",id:"-gestion-de-la-m\xe9moire-virtuelle-swap",level:2},{value:"\ud83d\udd27 Cr\xe9ation d&#39;un fichier Swap",id:"-cr\xe9ation-dun-fichier-swap",level:3},{value:"\xc9tapes de configuration",id:"\xe9tapes-de-configuration",level:4},{value:"V\xe9rification",id:"v\xe9rification",level:4},{value:"\ud83d\udee1\ufe0f Maintenance et Surveillance",id:"\ufe0f-maintenance-et-surveillance",level:2},{value:"\ud83d\uddc4\ufe0f Nettoyage de base de donn\xe9es MySQL",id:"\ufe0f-nettoyage-de-base-de-donn\xe9es-mysql",level:3},{value:"Purge des logs binaires",id:"purge-des-logs-binaires",level:4},{value:"\ud83d\udcca Scripts de monitoring complets",id:"-scripts-de-monitoring-complets",level:3},{value:"Surveillance syst\xe8me globale",id:"surveillance-syst\xe8me-globale",level:4},{value:"\ud83d\udcda Ressources et Documentation",id:"-ressources-et-documentation",level:2},{value:"\ud83d\udd17 Liens Essentiels",id:"-liens-essentiels",level:3},{value:"\u26a0\ufe0f Bonnes Pratiques de S\xe9curit\xe9",id:"\ufe0f-bonnes-pratiques-de-s\xe9curit\xe9",level:3},{value:"\ud83d\udd10 Authentification",id:"-authentification",level:4},{value:"\ud83d\udee1\ufe0f Surveillance",id:"\ufe0f-surveillance",level:4},{value:"\ud83d\udd04 Maintenance",id:"-maintenance",level:4},{value:"\ud83d\udea8 Proc\xe9dures d&#39;Urgence",id:"-proc\xe9dures-durgence",level:2},{value:"\ud83d\udd27 Diagnostic Rapide",id:"-diagnostic-rapide",level:3},{value:"Serveur inaccessible",id:"serveur-inaccessible",level:4},{value:"Espace disque satur\xe9",id:"espace-disque-satur\xe9",level:4},{value:"M\xe9moire RAM satur\xe9e",id:"m\xe9moire-ram-satur\xe9e",level:4},{value:"\ud83d\udcde Support et Maintenance",id:"-support-et-maintenance",level:2},{value:"\ud83d\udcca Checklist de Surveillance Quotidienne",id:"-checklist-de-surveillance-quotidienne",level:3},{value:"\ud83d\udd04 Maintenance Pr\xe9ventive",id:"-maintenance-pr\xe9ventive",level:3},{value:"Hebdomadaire",id:"hebdomadaire",level:4},{value:"Mensuelle",id:"mensuelle",level:4},{value:"\ud83d\udccb Table des Mati\xe8res",id:"-table-des-mati\xe8res-1",level:2},{value:"\ud83d\udcbb Shells et Environnements",id:"-shells-et-environnements",level:2},{value:"\ud83d\udc1a Types de Shells disponibles",id:"-types-de-shells-disponibles",level:3},{value:"\ud83d\udee0\ufe0f Gestion des fichiers syst\xe8me",id:"\ufe0f-gestion-des-fichiers-syst\xe8me",level:3},{value:"Vider un fichier sans le supprimer",id:"vider-un-fichier-sans-le-supprimer",level:4},{value:"Modifier la date de derni\xe8re modification",id:"modifier-la-date-de-derni\xe8re-modification",level:4},{value:"\ud83d\uddc4\ufe0f Gestion Base de Donn\xe9es",id:"\ufe0f-gestion-base-de-donn\xe9es",level:2},{value:"\ud83d\udcbe Sauvegarde MySQL (mysqldump)",id:"-sauvegarde-mysql-mysqldump",level:3},{value:"Configuration de base locale",id:"configuration-de-base-locale",level:4},{value:"Dump basique",id:"dump-basique",level:4},{value:"\u2601\ufe0f Sauvegarde depuis AWS RDS",id:"\ufe0f-sauvegarde-depuis-aws-rds",level:3},{value:"Export depuis RDS",id:"export-depuis-rds",level:4},{value:"\ud83d\udd04 Restauration de base de donn\xe9es",id:"-restauration-de-base-de-donn\xe9es",level:3},{value:"Restauration locale",id:"restauration-locale",level:4},{value:"Restauration vers RDS",id:"restauration-vers-rds",level:4},{value:"\ud83d\uddc4\ufe0f Gestion des bases de donn\xe9es",id:"\ufe0f-gestion-des-bases-de-donn\xe9es",level:3},{value:"Commandes de base MySQL",id:"commandes-de-base-mysql",level:4},{value:"\ud83d\udd27 Maintenance MySQL",id:"-maintenance-mysql",level:3},{value:"Gestion des logs binaires",id:"gestion-des-logs-binaires",level:4},{value:"Nettoyage d&#39;urgence (espace disque)",id:"nettoyage-durgence-espace-disque",level:4},{value:"\ud83d\udcc1 Transfert de Fichiers",id:"-transfert-de-fichiers",level:2},{value:"\ud83d\udd04 SCP (Secure Copy Protocol)",id:"-scp-secure-copy-protocol",level:3},{value:"Windows vers Ubuntu",id:"windows-vers-ubuntu",level:4},{value:"Entre serveurs Ubuntu",id:"entre-serveurs-ubuntu",level:4},{value:"\ud83c\udf10 T\xe9l\xe9chargement direct",id:"-t\xe9l\xe9chargement-direct",level:3},{value:"Avec curl",id:"avec-curl",level:4},{value:"Avec wget",id:"avec-wget",level:4},{value:"\ud83d\udc18 PHP et Extensions",id:"-php-et-extensions",level:2},{value:"\ud83d\udd04 Gestion des versions PHP",id:"-gestion-des-versions-php",level:3},{value:"Mise \xe0 jour PHP",id:"mise-\xe0-jour-php",level:4},{value:"Installation des extensions requises",id:"installation-des-extensions-requises",level:4},{value:"Changement de version Apache",id:"changement-de-version-apache",level:4},{value:"\ud83e\uddea Extensions sp\xe9ciales",id:"-extensions-sp\xe9ciales",level:3},{value:"SOAP pour Moodle",id:"soap-pour-moodle",level:4},{value:"Sodium pour cryptographie",id:"sodium-pour-cryptographie",level:4},{value:"V\xe9rification des extensions",id:"v\xe9rification-des-extensions",level:4},{value:"\u2699\ufe0f Configuration PHP",id:"\ufe0f-configuration-php",level:3},{value:"Localisation fichiers de configuration",id:"localisation-fichiers-de-configuration",level:4},{value:"V\xe9rifications syst\xe8me",id:"v\xe9rifications-syst\xe8me",level:4},{value:"\ud83d\udd27 WordPress Avanc\xe9",id:"-wordpress-avanc\xe9",level:2},{value:"\ud83c\udfaf WP-CLI pour versions WordPress",id:"-wp-cli-pour-versions-wordpress",level:3},{value:"Gestion des versions",id:"gestion-des-versions",level:4},{value:"R\xe9solution des erreurs",id:"r\xe9solution-des-erreurs",level:4},{value:"\ud83d\udee1\ufe0f Contr\xf4le des mises \xe0 jour automatiques",id:"\ufe0f-contr\xf4le-des-mises-\xe0-jour-automatiques",level:3},{value:"Dans wp-config.php",id:"dans-wp-configphp",level:4},{value:"\ud83d\udd27 S\xe9curit\xe9 WordPress apr\xe8s piratage",id:"-s\xe9curit\xe9-wordpress-apr\xe8s-piratage",level:3},{value:"Nettoyage d&#39;urgence",id:"nettoyage-durgence",level:4},{value:"Blocage IP avec htaccess",id:"blocage-ip-avec-htaccess",level:4},{value:"Restauration propre",id:"restauration-propre",level:4},{value:"\ud83d\udcca Moodle Administration",id:"-moodle-administration",level:2},{value:"\ud83d\udcda Guides d&#39;installation",id:"-guides-dinstallation",level:3},{value:"\ud83d\udd04 Mise \xe0 jour Moodle",id:"-mise-\xe0-jour-moodle",level:3},{value:"Dossiers \xe0 sauvegarder (plugins ind\xe9pendants)",id:"dossiers-\xe0-sauvegarder-plugins-ind\xe9pendants",level:4},{value:"URLs d&#39;administration",id:"urls-dadministration",level:4},{value:"\ud83d\udee1\ufe0f S\xe9curit\xe9 et Monitoring",id:"\ufe0f-s\xe9curit\xe9-et-monitoring",level:2},{value:"\ud83d\udd0d Surveillance r\xe9seau et trafic",id:"-surveillance-r\xe9seau-et-trafic",level:3},{value:"Installation ifstat",id:"installation-ifstat",level:4},{value:"\ud83d\udc65 Gestion des processus",id:"-gestion-des-processus",level:3},{value:"Surveillance des processus",id:"surveillance-des-processus",level:4},{value:"\u26a1 Optimisation Apache MPM",id:"-optimisation-apache-mpm",level:3},{value:"Configuration Worker MPM",id:"configuration-worker-mpm",level:4},{value:"Configuration Prefork MPM",id:"configuration-prefork-mpm",level:4},{value:"\ud83d\udcca Calcul des ressources",id:"-calcul-des-ressources",level:3},{value:"Formule MaxRequestWorkers",id:"formule-maxrequestworkers",level:4},{value:"Diagnostic Apache",id:"diagnostic-apache",level:4},{value:"\u2699\ufe0f Configuration Serveur",id:"\ufe0f-configuration-serveur",level:2},{value:"\ud83d\udcbe Extension d&#39;espace disque (AWS)",id:"-extension-despace-disque-aws",level:3},{value:"\xc9tapes d&#39;extension",id:"\xe9tapes-dextension",level:4},{value:"\ud83c\udf10 phpMyAdmin Bitnami",id:"-phpmyadmin-bitnami",level:3},{value:"Tunnel SSH pour acc\xe8s local",id:"tunnel-ssh-pour-acc\xe8s-local",level:4},{value:"\ud83d\udcdd Scripts et Automatisation",id:"-scripts-et-automatisation",level:2},{value:"\ud83d\udd01 Boucles Bash avanc\xe9es",id:"-boucles-bash-avanc\xe9es",level:3},{value:"Parcours de fichiers",id:"parcours-de-fichiers",level:4},{value:"\ud83d\udd0d Recherche et remplacement",id:"-recherche-et-remplacement",level:3},{value:"Remplacement de texte avec sed",id:"remplacement-de-texte-avec-sed",level:4},{value:"Recherche de fichiers",id:"recherche-de-fichiers",level:4},{value:"\ud83e\uddf9 Scripts de nettoyage",id:"-scripts-de-nettoyage",level:3},{value:"Nettoyage des logs syst\xe8me",id:"nettoyage-des-logs-syst\xe8me",level:4},{value:"Nettoyage syslog",id:"nettoyage-syslog",level:4},{value:"Configuration logrotate",id:"configuration-logrotate",level:4},{value:"\ud83d\udd0d Maintenance et Optimisation",id:"-maintenance-et-optimisation",level:2},{value:"\ud83d\udcc2 Gestion avanc\xe9e des fichiers",id:"-gestion-avanc\xe9e-des-fichiers-1",level:3},{value:"Docker - R\xe9solution probl\xe8me base de donn\xe9es",id:"docker---r\xe9solution-probl\xe8me-base-de-donn\xe9es",level:4},{value:"\ud83d\udd27 Ex\xe9cution de fichiers PHP",id:"-ex\xe9cution-de-fichiers-php",level:3},{value:"\ud83c\udf10 Contr\xf4le d&#39;acc\xe8s et s\xe9curit\xe9",id:"-contr\xf4le-dacc\xe8s-et-s\xe9curit\xe9",level:3},{value:"Blocage de sites (pare-feu applicatif)",id:"blocage-de-sites-pare-feu-applicatif",level:4},{value:"Gestion des logs journaux",id:"gestion-des-logs-journaux",level:4},{value:"\ud83d\udcda Ressources et Documentation",id:"-ressources-et-documentation-1",level:2},{value:"\ud83d\udd17 R\xe9f\xe9rences Essentielles",id:"-r\xe9f\xe9rences-essentielles",level:3},{value:"\u26a0\ufe0f Bonnes Pratiques de Production",id:"\ufe0f-bonnes-pratiques-de-production",level:3},{value:"\ud83d\udd10 S\xe9curit\xe9 Base de Donn\xe9es",id:"-s\xe9curit\xe9-base-de-donn\xe9es",level:4},{value:"\ud83d\udee1\ufe0f S\xe9curit\xe9 Web",id:"\ufe0f-s\xe9curit\xe9-web",level:4},{value:"\u26a1 Performance",id:"-performance",level:4},{value:"\ud83d\udea8 Proc\xe9dures d&#39;Urgence",id:"-proc\xe9dures-durgence-1",level:2},{value:"\ud83d\udd27 Base de Donn\xe9es Corrompue",id:"-base-de-donn\xe9es-corrompue",level:3},{value:"MySQL ne d\xe9marre pas",id:"mysql-ne-d\xe9marre-pas",level:4},{value:"Espace disque satur\xe9 par logs",id:"espace-disque-satur\xe9-par-logs",level:4},{value:"\ud83c\udf10 Site Web inaccessible",id:"-site-web-inaccessible",level:3},{value:"WordPress/Moodle compromis",id:"wordpressmoodle-compromis",level:4},{value:"Apache surcharg\xe9",id:"apache-surcharg\xe9",level:4},{value:"\ud83d\udcde Support et Maintenance",id:"-support-et-maintenance-1",level:2},{value:"\ud83d\udcca Checklist Maintenance Hebdomadaire",id:"-checklist-maintenance-hebdomadaire",level:3},{value:"\ud83d\udd04 Proc\xe9dures Mensuelles",id:"-proc\xe9dures-mensuelles",level:3},{value:"Optimisation Base de Donn\xe9es",id:"optimisation-base-de-donn\xe9es",level:4},{value:"Audit S\xe9curit\xe9",id:"audit-s\xe9curit\xe9",level:4}];function u(e){const s={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(a.A,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"-guide-complet-dadministration-syst\xe8me",children:"\ud83d\udd27 Guide Complet d'Administration Syst\xe8me"})}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Auteur :"})," Gerardetienne",(0,i.jsx)(s.br,{}),"\n",(0,i.jsx)(s.strong,{children:"Date de cr\xe9ation :"})," 2025-08-06",(0,i.jsx)(s.br,{}),"\n",(0,i.jsx)(s.strong,{children:"Derni\xe8re mise \xe0 jour :"})," 2025-08-06 08:12:34 UTC",(0,i.jsx)(s.br,{}),"\n",(0,i.jsx)(s.strong,{children:"Version :"})," 5.0"]}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-table-des-mati\xe8res",children:"\ud83d\udccb Table des Mati\xe8res"}),(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#-diagnostics-r%C3%A9seau",children:"\ud83c\udf10 Diagnostics R\xe9seau"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#-ssh-et-authentification",children:"\ud83d\udd11 SSH et Authentification"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#-surveillance-syst%C3%A8me",children:"\ud83d\udcca Surveillance Syst\xe8me"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#-docker-administration",children:"\ud83d\udc33 Docker Administration"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#-gestion-des-logs",children:"\ud83d\udcdd Gestion des Logs"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#%EF%B8%8F-cron-et-t%C3%A2ches-planifi%C3%A9es",children:"\ud83c\udf9b\ufe0f Cron et T\xe2ches Planifi\xe9es"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#-wordpress-et-wp-cli",children:"\ud83d\udc18 WordPress et WP-CLI"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#%EF%B8%8F-aws-et-sauvegarde",children:"\u2601\ufe0f AWS et Sauvegarde"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#-s%C3%A9curit%C3%A9-et-permissions",children:"\ud83d\udd10 S\xe9curit\xe9 et Permissions"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#%EF%B8%8F-scripts-bash-avanc%C3%A9s",children:"\ud83d\udee0\ufe0f Scripts Bash Avanc\xe9s"})}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-diagnostics-r\xe9seau",children:"\ud83c\udf10 Diagnostics R\xe9seau"}),(0,i.jsx)(s.h3,{id:"-r\xe9solution-dns",children:"\ud83d\udd0d R\xe9solution DNS"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# R\xe9solution d'un nom de domaine\r\nnslookup skiillz.com\r\n\r\n# Obtenir l'IP publique du serveur\r\ncurl ifconfig.me\n"})}),(0,i.jsx)(s.h3,{id:"\ufe0f-analyse-de-ports-avec-nmap",children:"\ud83d\udee1\ufe0f Analyse de ports avec Nmap"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Guide complet :"})," ",(0,i.jsx)(s.a,{href:"https://www.malekal.com/exemples-de-commandes-nmap/",children:"Commandes Nmap"})]}),"\n"]}),(0,i.jsx)(s.h4,{id:"installation",children:"Installation"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Sur Debian/Ubuntu\r\nsudo apt-get install nmap\n"})}),(0,i.jsx)(s.h4,{id:"utilisation",children:"Utilisation"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Scanner une machine distante\r\nsudo nmap votre_domaine_ou_ip\r\n\r\n# Scanner des ports sp\xe9cifiques\r\nnmap -p 80,443 example.com\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-ssh-et-authentification",children:"\ud83d\udd11 SSH et Authentification"}),(0,i.jsx)(s.h3,{id:"-connexion-ssh-avec-cl\xe9",children:"\ud83d\udeaa Connexion SSH avec cl\xe9"}),(0,i.jsx)(s.h4,{id:"avec-fichier-de-cl\xe9",children:"Avec fichier de cl\xe9"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# Syntaxe g\xe9n\xe9rale\r\nssh -i "votre_cl\xe9_fichier" nom_user@adresse_ip\r\n\r\n# Exemple concret\r\nssh -i "skiillz144007102021.pem" ubuntu@13.244.208.23\n'})}),(0,i.jsx)(s.h4,{id:"sans-cl\xe9-authentification-par-mot-de-passe",children:"Sans cl\xe9 (authentification par mot de passe)"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ssh nom_user@adresse_ip\n"})}),(0,i.jsx)(s.h3,{id:"-r\xe9solution-des-probl\xe8mes-ssh",children:"\ud83d\udd27 R\xe9solution des probl\xe8mes SSH"}),(0,i.jsx)(s.h4,{id:"en-cas-de-changement-de-cl\xe9-dh\xf4te",children:"En cas de changement de cl\xe9 d'h\xf4te"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ssh-keygen -R votre_adresse_ip\n"})}),(0,i.jsx)(s.h4,{id:"correction-des-permissions-de-cl\xe9-priv\xe9e",children:"Correction des permissions de cl\xe9 priv\xe9e"}),(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Pour Linux :"})}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"sudo chmod 400 skiillz_captown.pem\n"})}),(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Pour Windows :"})}),(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Clic droit"})," sur le fichier ",(0,i.jsx)(s.code,{children:".pem"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Propri\xe9t\xe9s"})," \u2192 ",(0,i.jsx)(s.strong,{children:"S\xe9curit\xe9"})," \u2192 ",(0,i.jsx)(s.strong,{children:"Avanc\xe9"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"D\xe9sactiver l'h\xe9ritage"})," \u2192 ",(0,i.jsx)(s.strong,{children:"Convertir les autorisations h\xe9rit\xe9es"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Supprimer"})," tous les utilisateurs sauf votre nom d'utilisateur"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Appliquer"})," les modifications"]}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-surveillance-syst\xe8me",children:"\ud83d\udcca Surveillance Syst\xe8me"}),(0,i.jsx)(s.h3,{id:"-surveillance-de-lespace-disque",children:"\ud83d\udcbe Surveillance de l'espace disque"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Affichage g\xe9n\xe9ral de l'espace disque\r\nsudo df -h /\r\n\r\n# Affichage d\xe9taill\xe9 avec type de syst\xe8me de fichiers\r\ndf -lh\r\n\r\n# Affichage des p\xe9riph\xe9riques de stockage\r\nlsblk\n"})}),(0,i.jsx)(s.h3,{id:"-analyse-de-la-taille-des-fichiers-et-dossiers",children:"\ud83d\udd0d Analyse de la taille des fichiers et dossiers"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Guide complet :"})," ",(0,i.jsx)(s.a,{href:"https://waytolearnx.com/2019/05/10-commandes-pour-verifier-lespace-disque-sous-linux.html",children:"V\xe9rifier l'espace disque sous Linux"})]}),"\n"]}),(0,i.jsx)(s.h4,{id:"top-10-des-fichiersdossiers-les-plus-volumineux",children:"Top 10 des fichiers/dossiers les plus volumineux"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Dans le r\xe9pertoire courant\r\ndu -hsx * | sort -rh | head -10\r\n\r\n# Recherche r\xe9cursive avec taille lisible\r\nsudo du -ah --max-depth=1 / | sort -rh | head -n 10\r\n\r\n# Taille d'un dossier sp\xe9cifique\r\ndu -sh 'nom_dossier'\n"})}),(0,i.jsx)(s.h3,{id:"-surveillance-de-la-m\xe9moire-ram",children:"\ud83e\udde0 Surveillance de la m\xe9moire RAM"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Affichage simple de la m\xe9moire\r\nsudo free -h\r\n\r\n# Affichage d\xe9taill\xe9\r\nsudo free -m\r\n\r\n# Pourcentage de RAM utilis\xe9e\r\nfree -m | awk 'NR==2{printf \"%.2f%%\\t\\t\", $3*100/$2 }'\n"})}),(0,i.jsx)(s.h3,{id:"-surveillance-cpu-et-performances",children:"\u26a1 Surveillance CPU et performances"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Pourcentage d'utilisation CPU\r\ntop -bn1 | grep load | awk '{printf \"%.2f%%\\t\\t\\n\", $(NF-2)}'\r\n\r\n# Surveillance interactive\r\nhtop\n"})}),(0,i.jsx)(s.h3,{id:"-gestion-des-utilisateurs-et-groupes",children:"\ud83d\udc65 Gestion des utilisateurs et groupes"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Ajouter un utilisateur \xe0 un groupe\r\nsudo usermod -aG www-data your_username\r\n\r\n# Voir les groupes d'un utilisateur\r\ngroups ubuntu\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-docker-administration",children:"\ud83d\udc33 Docker Administration"}),(0,i.jsx)(s.h3,{id:"-gestion-des-conteneurs",children:"\ud83d\udccb Gestion des conteneurs"}),(0,i.jsx)(s.h4,{id:"lister-et-inspecter",children:"Lister et inspecter"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Lister les conteneurs actifs\r\ndocker container list\r\ndocker container ps\r\n\r\n# Voir les logs d'un conteneur\r\ndocker container logs id_de_container\r\n\r\n# Logs en temps r\xe9el\r\ndocker container logs -f nom_container\n"})}),(0,i.jsx)(s.h4,{id:"acc\xe8s-aux-conteneurs",children:"Acc\xe8s aux conteneurs"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Entrer dans un conteneur\r\ndocker exec -it id_de_container /bin/bash\r\n\r\n# Entrer avec un utilisateur sp\xe9cifique\r\ndocker exec -it -u www-data nom_container /bin/bash\n"})}),(0,i.jsx)(s.h4,{id:"gestion-des-services",children:"Gestion des services"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# D\xe9marrer les services (dans le dossier du projet)\r\ndocker-compose up\r\n\r\n# Arr\xeater les services\r\ndocker-compose down\r\n\r\n# D\xe9marrer un service sp\xe9cifique\r\ndocker-compose -f phpadmin.yml start\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-gestion-des-logs",children:"\ud83d\udcdd Gestion des Logs"}),(0,i.jsx)(s.h3,{id:"-consultation-des-logs-syst\xe8me",children:"\ud83d\udd0d Consultation des logs syst\xe8me"}),(0,i.jsx)(s.h4,{id:"logs-apache",children:"Logs Apache"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Logs d'erreur en temps r\xe9el\r\ntail -f /var/log/apache2/error.log\r\n\r\n# Recherche dans les logs d'erreur\r\ngrep \"MaxRequestWorkers\" /var/log/apache2/error.log\n"})}),(0,i.jsx)(s.h4,{id:"logs-wordpress",children:"Logs WordPress"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Debug WordPress en temps r\xe9el\r\ntail -f wp-content/debug.log\r\n\r\n# Filtrer les erreurs\r\ncat debug.log | grep error\n"})}),(0,i.jsx)(s.h4,{id:"logs-cron",children:"Logs Cron"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Voir les t\xe2ches cron ex\xe9cut\xe9es\r\ngrep CRON /var/log/syslog\r\n\r\n# V\xe9rifier les processus cron\r\nps -aux | grep cron\n"})}),(0,i.jsx)(s.h3,{id:"-nettoyage-automatique-des-logs",children:"\ud83e\uddf9 Nettoyage automatique des logs"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Guide complet :"})," ",(0,i.jsx)(s.a,{href:"https://fedingo.com/shell-script-to-clear-delete-log-files/",children:"Script de nettoyage des logs"})]}),"\n"]}),(0,i.jsx)(s.h4,{id:"script-de-nettoyage",children:"Script de nettoyage"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",metastring:"name=delete-log.sh",children:"#!/bin/sh\r\n\r\nlog_path=\"/var/log/apache\"\r\n\r\n# Supprimer les fichiers de plus de 30 jours\r\nfind $log_path* -mtime +30 -exec rm {} \\;\r\n\r\necho 'Fichiers journaux de plus de 30 jours supprim\xe9s de $log_path'\n"})}),(0,i.jsx)(s.h4,{id:"configuration-et-ex\xe9cution",children:"Configuration et ex\xe9cution"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Rendre le script ex\xe9cutable\r\nchmod +x /home/ubuntu/delete-log.sh\r\n\r\n# Ajouter \xe0 crontab pour ex\xe9cution quotidienne \xe0 10h\r\n0 10 * * * /home/ubuntu/delete-log.sh >/dev/null 2>&1\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"\ufe0f-cron-et-t\xe2ches-planifi\xe9es",children:"\ud83c\udf9b\ufe0f Cron et T\xe2ches Planifi\xe9es"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Guides de r\xe9f\xe9rence :"})]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://geekflare.com/fr/crontab-linux-with-real-time-examples-and-tools/",children:"Crontab Linux avec exemples"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://serverspace.io/support/help/automate-tasks-with-cron-ubuntu-20-04/",children:"Automatiser les t\xe2ches avec Cron"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.malekal.com/cron-planifier-execution-programme-script-linux/",children:"Planifier l'ex\xe9cution avec Cron"})}),"\n"]}),"\n"]}),(0,i.jsx)(s.h3,{id:"\ufe0f-gestion-de-crontab",children:"\u2699\ufe0f Gestion de Crontab"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# \xc9diter les t\xe2ches cron\r\ncrontab -e\r\n\r\n# Lister les t\xe2ches cron\r\ncrontab -l\r\n\r\n# V\xe9rifier les processus cron\r\nps -aux | grep cron\n"})}),(0,i.jsx)(s.h3,{id:"-script-dalerte-par-email",children:"\ud83d\udce7 Script d'alerte par email"}),(0,i.jsx)(s.h4,{id:"configuration-pour-surveillance-ram",children:"Configuration pour surveillance RAM"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",metastring:"name=checkRam.sh",children:'#!/bin/bash\r\n\r\n# Script de surveillance RAM avec seuil \xe0 80%\r\nram_usage=$(free | awk \'/Mem/ {printf("%.2f"), $3/$2 * 100}\')\r\n\r\nif (( $(echo "$ram_usage > 80.0" | bc -l) )); then\r\n    # Envoyer alerte email\r\n    swaks -t "admin@example.com" \\\r\n          -s smtp.gmail.com:587 -tls \\\r\n          -au "your_email@gmail.com" \\\r\n          -ap "your_app_password" \\\r\n          -f "your_email@gmail.com" \\\r\n          --h-Subject "Alert M\xe9moire serveur" \\\r\n          --body "Utilisation RAM: $ram_usage%"\r\n    \r\n    # Red\xe9marrer Apache si n\xe9cessaire\r\n    sudo service apache2 restart\r\nfi\n'})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-wordpress-et-wp-cli",children:"\ud83d\udc18 WordPress et WP-CLI"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Documentation officielle :"})," ",(0,i.jsx)(s.a,{href:"https://kinsta.com/fr/blog/wp-cli/",children:"WP-CLI Guide Kinsta"})]}),"\n"]}),(0,i.jsx)(s.h3,{id:"-installation-de-wp-cli",children:"\ud83d\udce6 Installation de WP-CLI"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# T\xe9l\xe9charger WP-CLI\r\ncurl -O https://raw.githubusercontent.com/wp-cli/builds/gh-pages/phar/wp-cli.phar\r\n\r\n# V\xe9rifier l'installation\r\nphp wp-cli.phar --info\r\n\r\n# Rendre ex\xe9cutable et d\xe9placer vers /usr/local/bin\r\nchmod +x wp-cli.phar\r\nsudo mv wp-cli.phar /usr/local/bin/wp\r\n\r\n# V\xe9rifier la version\r\nwp --version\n"})}),(0,i.jsx)(s.h3,{id:"-gestion-des-plugins",children:"\ud83d\udd27 Gestion des plugins"}),(0,i.jsx)(s.h4,{id:"lister-et-g\xe9rer",children:"Lister et g\xe9rer"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Lister tous les plugins\r\nwp plugin list --allow-root\r\n\r\n# Activer un plugin\r\nwp plugin activate wc-product-customer-list --allow-root\r\n\r\n# Installer plusieurs plugins\r\nwp plugin install advanced-custom-fields jetpack ninja-forms --activate\r\n\r\n# Installer une version sp\xe9cifique\r\nwp plugin update wc-product-customer-list --version=3.1.5 --allow-root\n"})}),(0,i.jsx)(s.h4,{id:"d\xe9sinstallation",children:"D\xe9sinstallation"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# D\xe9sinstaller un plugin\r\nwp plugin uninstall plugin_name\r\n\r\n# D\xe9sactiver tous sauf certains\r\nwp plugin uninstall --all --exclude=hello-dolly,jetpack\n"})}),(0,i.jsx)(s.h3,{id:"-gestion-des-utilisateurs",children:"\ud83d\udc65 Gestion des utilisateurs"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Documentation :"})," ",(0,i.jsx)(s.a,{href:"https://developer.wordpress.org/cli/commands/user/",children:"WP-CLI User Commands"})]}),"\n"]}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# Cr\xe9er un utilisateur administrateur\r\nwp user create admindev dev_admin@example.com --role=administrator --allow-root\r\n\r\n# Mettre \xe0 jour un utilisateur\r\nwp user update admindev --display_name="Admin Dev" --user_pass=newpassword\r\n\r\n# Supprimer un utilisateur (r\xe9assigner le contenu)\r\nwp user delete admindev --reassign=gerarddev\r\n\r\n# Lister tous les utilisateurs\r\nwp user list\r\n\r\n# Lister seulement les IDs\r\nwp user list --field=ID\n'})}),(0,i.jsx)(s.h3,{id:"\ufe0f-gestion-de-la-base-de-donn\xe9es",children:"\ud83d\uddc4\ufe0f Gestion de la base de donn\xe9es"}),(0,i.jsx)(s.h4,{id:"importexport",children:"Import/Export"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Exporter la base de donn\xe9es\r\nwp db export\r\n\r\n# Importer une base de donn\xe9es\r\nwp db import file.sql\n"})}),(0,i.jsx)(s.h4,{id:"rechercher-et-remplacer",children:"Rechercher et remplacer"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Guide :"})," ",(0,i.jsx)(s.a,{href:"https://support.cloudways.com/en/articles/5126698-how-to-use-the-search-and-replace-function-of-wp-cli",children:"Search Replace WP-CLI"})]}),"\n"]}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# Test de remplacement (dry-run)\r\nwp search-replace "old-domain.com" "new-domain.com" --dry-run --allow-root\r\n\r\n# Ex\xe9cution r\xe9elle\r\nwp search-replace "speed.skiillz.com" "testpreprod.skiillz.com" --allow-root\r\n\r\n# Requ\xeates SQL directes\r\nwp db query "SELECT * FROM wp_users WHERE user_login = \'admin\'"\n'})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"\ufe0f-aws-et-sauvegarde",children:"\u2601\ufe0f AWS et Sauvegarde"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Guide officiel :"})," ",(0,i.jsx)(s.a,{href:"https://aws.amazon.com/fr/getting-started/hands-on/backup-to-s3-cli/",children:"AWS S3 CLI Backup"})]}),"\n"]}),(0,i.jsx)(s.h3,{id:"\ufe0f-installation-aws-cli",children:"\ud83d\udee0\ufe0f Installation AWS CLI"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Mise \xe0 jour du syst\xe8me\r\nsudo apt-get update\r\n\r\n# Installation d'AWS CLI\r\nsudo apt-get install awscli\r\n\r\n# Alternative avec pip3\r\nsudo apt-get install python3-pip\r\npip3 install awscli\r\n\r\n# V\xe9rification\r\naws --version\n"})}),(0,i.jsx)(s.h3,{id:"\ufe0f-configuration-aws-cli",children:"\u2699\ufe0f Configuration AWS CLI"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Configuration interactive\r\naws configure\n"})}),(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Param\xe8tres requis :"})}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Access Key ID"})," : ",(0,i.jsx)(s.code,{children:"[****************JNUS]"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Secret Access Key"})," : ",(0,i.jsx)(s.code,{children:"[****************Dgdx]"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Default region"})," : ",(0,i.jsx)(s.code,{children:"ap-southeast-1"})," (ou votre r\xe9gion)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Default output format"})," : ",(0,i.jsx)(s.code,{children:"json"})]}),"\n"]}),(0,i.jsx)(s.h3,{id:"-gestion-des-fichiers-s3",children:"\ud83d\udcc1 Gestion des fichiers S3"}),(0,i.jsx)(s.h4,{id:"upload-vers-s3",children:"Upload vers S3"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Cr\xe9er un bucket\r\naws s3 mb s3://my-backup-bucket\r\n\r\n# Copier un fichier vers S3\r\naws s3 cp ./nom_file_\xe0_copier s3://your_bucket/nom_file_destination\r\n\r\n# Exemple concret\r\naws s3 cp ./romuald-rousseaux.com-backup.wpress s3://romuald-backup/backup.wpress\n"})}),(0,i.jsx)(s.h4,{id:"download-depuis-s3",children:"Download depuis S3"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# T\xe9l\xe9charger un fichier depuis S3\r\naws s3 cp s3://your_bucket/nom_file ./\r\n\r\n# Exemple\r\naws s3 cp s3://www-skiillz-com/catalogue.zip ./\n"})}),(0,i.jsx)(s.h4,{id:"suppression",children:"Suppression"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Supprimer un fichier S3\r\naws s3 rm s3://my-backup-bucket/my-file.bak\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-s\xe9curit\xe9-et-permissions",children:"\ud83d\udd10 S\xe9curit\xe9 et Permissions"}),(0,i.jsx)(s.h3,{id:"-gestion-des-permissions",children:"\ud83d\udcc2 Gestion des permissions"}),(0,i.jsx)(s.h4,{id:"permissions-globales",children:"Permissions globales"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Permissions pour les dossiers (750)\r\nsudo find /var/www/skiillz/ -type d -exec chmod 750 {} \\;\r\n\r\n# Permissions pour les fichiers (640)\r\nsudo find /var/www/skiillz/ -type f -exec chmod 640 {} \\;\r\n\r\n# Permissions r\xe9cursives (attention !)\r\nsudo chmod 777 -R /home/ubuntu/environment/WordPress/skiillz\n"})}),(0,i.jsx)(s.h4,{id:"permissions-utilisateur-sp\xe9cifiques",children:"Permissions utilisateur sp\xe9cifiques"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Ajouter droit lecture/\xe9criture pour le propri\xe9taire\r\nchmod u+rw texte.txt\r\n\r\n# Enlever droit d'\xe9criture pour groupe et autres\r\nchmod go-w texte.txt\r\n\r\n# Correction permissions avec red\xe9marrage Apache\r\nchmod u+rw config.php\r\nsystemctl restart apache2\n"})}),(0,i.jsx)(s.h3,{id:"-changement-dutilisateur",children:"\ud83d\udd04 Changement d'utilisateur"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Basculer vers www-data\r\nsudo -su www-data\r\n\r\n# Pour Docker avec utilisateur sp\xe9cifique\r\ndocker exec -it -u www-data container_name /bin/bash\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"\ufe0f-scripts-bash-avanc\xe9s",children:"\ud83d\udee0\ufe0f Scripts Bash Avanc\xe9s"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Initiation au scripting Bash :"})," ",(0,i.jsx)(s.a,{href:"https://notamax.be/bash-01-apprendre-a-scripter-sur-gnu-linux/",children:"Guide NotaMax"})]}),"\n"]}),(0,i.jsx)(s.h3,{id:"-configuration-swaks-pour-emails",children:"\ud83d\udce7 Configuration Swaks pour emails"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Tutorial vid\xe9o :"})," ",(0,i.jsx)(s.a,{href:"https://www.youtube.com/watch?v=zaOhO7Y2tIw",children:"Swaks Configuration"})]}),"\n"]}),(0,i.jsx)(s.h4,{id:"installation-1",children:"Installation"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"sudo apt update\r\nsudo apt -y install swaks\n"})}),(0,i.jsx)(s.h4,{id:"utilisation-basique",children:"Utilisation basique"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# Param\xe8tres Swaks\r\n# -t      -> To (destinataire)\r\n# -s      -> SMTP server\r\n# -tls    -> Port 587 avec STARTTLS\r\n# -au     -> Auth Username\r\n# -ap     -> Auth Password\r\n# -f      -> From (exp\xe9diteur)\r\n\r\nswaks -t "admin@example.com" \\\r\n      -s smtp.gmail.com:587 -tls \\\r\n      -au "sender@gmail.com" \\\r\n      -ap "app_password" \\\r\n      -f "sender@gmail.com" \\\r\n      --h-Subject "Test Alert" \\\r\n      --body "Message de test"\n'})}),(0,i.jsx)(s.h4,{id:"avec-pi\xe8ce-jointe",children:"Avec pi\xe8ce jointe"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'swaks -t "admin@example.com" \\\r\n      -s smtp.gmail.com:587 -tls \\\r\n      -au "sender@gmail.com" \\\r\n      -ap "app_password" \\\r\n      -f "sender@gmail.com" \\\r\n      --h-Subject "Rapport avec PJ" \\\r\n      --body "Voir pi\xe8ce jointe" \\\r\n      --attach \'/home/ubuntu/report.txt\'\n'})}),(0,i.jsx)(s.h3,{id:"-conditions-et-boucles-bash",children:"\ud83d\udd0d Conditions et boucles Bash"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Guide :"})," ",(0,i.jsx)(s.a,{href:"https://linuxize.com/post/bash-if-else-statement/",children:"Bash If-Else Statements"})]}),"\n"]}),(0,i.jsx)(s.h4,{id:"script-de-surveillance-despace-disque",children:"Script de surveillance d'espace disque"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",metastring:"name=disk-alert.sh",children:'#!/bin/bash\r\n\r\nREALVALUE=$(df / | grep / | awk \'{ print $5}\' | sed \'s/%//g\')\r\nTHRESHOLD=80\r\n\r\nif [ "$REALVALUE" -gt "$THRESHOLD" ]; then\r\n    # Envoyer alerte par email\r\n    swaks -t "admin@example.com" \\\r\n          -s smtp.gmail.com:587 -tls \\\r\n          -au "alert@example.com" \\\r\n          -ap "app_password" \\\r\n          -f "alert@example.com" \\\r\n          --h-Subject "ALERTE: Espace disque critique" \\\r\n          --body "Utilisation actuelle: $REALVALUE% (Seuil: $THRESHOLD%)"\r\n    \r\n    echo "Alerte envoy\xe9e - Utilisation disque: $REALVALUE%"\r\nelse\r\n    echo "Utilisation disque normale: $REALVALUE%"\r\nfi\n'})}),(0,i.jsx)(s.h4,{id:"script-de-surveillance-ram-avanc\xe9",children:"Script de surveillance RAM avanc\xe9"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",metastring:"name=ram-monitor.sh",children:'#!/bin/bash\r\n\r\n# Variables de configuration\r\nTHRESHOLD=80\r\nEMAIL_LIST="admin1@example.com admin2@example.com"\r\n\r\n# R\xe9cup\xe9ration des m\xe9triques\r\nRAM_USAGE=$(free -m | awk \'NR==2{printf "%.2f", $3*100/$2 }\')\r\nRAM_FREE=$(awk \'/Mem:/ {print $4}\' <(free -m))\r\nRAM_USED=$(awk \'/Mem:/ {print $3}\' <(free -m))\r\n\r\n# Test du seuil\r\nif (( $(echo "$RAM_USAGE > $THRESHOLD" | bc -l) )); then\r\n    # Construction du message\r\n    MESSAGE="ALERTE MEMOIRE SERVEUR\r\n    \r\nUtilisation RAM: $RAM_USAGE%\r\nM\xe9moire utilis\xe9e: ${RAM_USED}MB  \r\nM\xe9moire libre: ${RAM_FREE}MB\r\nSeuil d\'alerte: $THRESHOLD%\r\n\r\nAction recommand\xe9e: V\xe9rifier les processus en cours"\r\n\r\n    # Envoi d\'email \xe0 multiple destinataires\r\n    for EMAIL in $EMAIL_LIST; do\r\n        swaks -t "$EMAIL" \\\r\n              -s smtp.gmail.com:587 -tls \\\r\n              -au "monitoring@example.com" \\\r\n              -ap "app_password" \\\r\n              -f "monitoring@example.com" \\\r\n              --h-Subject "\ud83d\udea8 ALERTE RAM - Serveur $HOSTNAME" \\\r\n              --body "$MESSAGE"\r\n    done\r\n    \r\n    # Red\xe9marrage Apache si n\xe9cessaire\r\n    sudo service apache2 restart\r\n    \r\n    echo "$(date): Alerte RAM envoy\xe9e - Utilisation: $RAM_USAGE%"\r\nelse\r\n    echo "$(date): RAM normale - Utilisation: $RAM_USAGE%"\r\nfi\n'})}),(0,i.jsx)(s.h3,{id:"-gestion-avanc\xe9e-des-scripts",children:"\ud83d\udd27 Gestion avanc\xe9e des scripts"}),(0,i.jsx)(s.h4,{id:"permissions-dex\xe9cution",children:"Permissions d'ex\xe9cution"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Rendre un script ex\xe9cutable\r\nchmod +x script_name\r\n\r\n# Ou pour l'utilisateur uniquement\r\nchmod u+x script_name\n"})}),(0,i.jsx)(s.h4,{id:"m\xe9thodes-dex\xe9cution",children:"M\xe9thodes d'ex\xe9cution"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# M\xe9thode 1: Ex\xe9cution directe\r\n./script_name\r\n\r\n# M\xe9thode 2: Via bash\r\nbash script_name\r\n\r\n# M\xe9thode 3: Via crontab (automatis\xe9)\r\n# Dans crontab -e :\r\n*/5 * * * * /path/to/script.sh >/dev/null 2>&1\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-recherche-et-filtrage-avanc\xe9s",children:"\ud83d\udd0d Recherche et Filtrage Avanc\xe9s"}),(0,i.jsx)(s.h3,{id:"-recherche-avec-grep",children:"\ud83d\udd0e Recherche avec Grep"}),(0,i.jsx)(s.h4,{id:"dans-les-fichiers",children:"Dans les fichiers"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Recherche r\xe9cursive simple\r\ngrep -r 'moodle/v1/cours' ./\r\n\r\n# Recherche avanc\xe9e avec exclusions\r\ngrep -r --exclude-dir=node_modules --exclude-dir=.git --exclude-dir=dist \"mot_\xe0_chercher\" *\r\n\r\n# Recherche avec num\xe9ros de ligne\r\ngrep -Hrn 'search term' path/to/files\n"})}),(0,i.jsx)(s.h4,{id:"dans-les-logs",children:"Dans les logs"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Compter les occurrences d'une IP\r\ngrep \"^154.126.16.65 \" /var/log/apache2/access.log | wc -l\r\n\r\n# Filtrer par type d'erreur\r\ncat debug.log | grep error\n"})}),(0,i.jsx)(s.h3,{id:"-gestion-avanc\xe9e-des-fichiers",children:"\ud83d\udcc1 Gestion avanc\xe9e des fichiers"}),(0,i.jsx)(s.h4,{id:"recherche-par-date",children:"Recherche par date"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Fichiers modifi\xe9s r\xe9cemment (2 derniers jours)\r\nfind /var/www/ -type f -mtime -2\r\n\r\n# Supprimer les anciens logs\r\nfind /var/log/apache* -mtime +1 -exec rm {} \\;\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-gestion-de-la-m\xe9moire-virtuelle-swap",children:"\ud83d\udcbe Gestion de la M\xe9moire Virtuelle (Swap)"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Guide complet :"})," ",(0,i.jsx)(s.a,{href:"https://linuxize.com/post/how-to-add-swap-space-on-ubuntu-20-04/",children:"Ajouter du Swap sur Ubuntu"})]}),"\n"]}),(0,i.jsx)(s.h3,{id:"-cr\xe9ation-dun-fichier-swap",children:"\ud83d\udd27 Cr\xe9ation d'un fichier Swap"}),(0,i.jsx)(s.h4,{id:"\xe9tapes-de-configuration",children:"\xc9tapes de configuration"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# 1. Cr\xe9er un fichier de 6GB pour le swap\r\nsudo fallocate -l 6G /swapfile\r\n\r\n# 2. S\xe9curiser les permissions\r\nsudo chmod 600 /swapfile\r\n\r\n# 3. Configurer comme zone de swap\r\nsudo mkswap /swapfile\r\n\r\n# 4. Activer le swap\r\nsudo swapon /swapfile\r\n\r\n# 5. Rendre permanent\r\nsudo nano /etc/fstab\r\n# Ajouter: /swapfile swap swap defaults 0 0\n"})}),(0,i.jsx)(s.h4,{id:"v\xe9rification",children:"V\xe9rification"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# V\xe9rifier le swap actif\r\nsudo swapon --show\r\n\r\n# Voir l'usage m\xe9moire global\r\nsudo free -h\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"\ufe0f-maintenance-et-surveillance",children:"\ud83d\udee1\ufe0f Maintenance et Surveillance"}),(0,i.jsx)(s.h3,{id:"\ufe0f-nettoyage-de-base-de-donn\xe9es-mysql",children:"\ud83d\uddc4\ufe0f Nettoyage de base de donn\xe9es MySQL"}),(0,i.jsx)(s.h4,{id:"purge-des-logs-binaires",children:"Purge des logs binaires"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Se connecter \xe0 MySQL\r\nsudo mysql\r\n\r\n# Purger les logs de plus d'un jour\r\nPURGE BINARY LOGS BEFORE DATE(NOW() - INTERVAL 1 DAY) + INTERVAL 0 SECOND;\n"})}),(0,i.jsx)(s.h3,{id:"-scripts-de-monitoring-complets",children:"\ud83d\udcca Scripts de monitoring complets"}),(0,i.jsx)(s.h4,{id:"surveillance-syst\xe8me-globale",children:"Surveillance syst\xe8me globale"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",metastring:"name=system-monitor.sh",children:'#!/bin/bash\r\n\r\n# Configuration\r\nLOG_FILE="/var/log/system-monitor.log"\r\nALERT_EMAIL="admin@example.com"\r\n\r\n# Fonction de log\r\nlog_message() {\r\n    echo "$(date \'+%Y-%m-%d %H:%M:%S\') - $1" >> $LOG_FILE\r\n}\r\n\r\n# V\xe9rification espace disque\r\nDISK_USAGE=$(df / | grep / | awk \'{ print $5}\' | sed \'s/%//g\')\r\nRAM_USAGE=$(free -m | awk \'NR==2{printf "%.0f", $3*100/$2 }\')\r\nCPU_LOAD=$(top -bn1 | grep "load average:" | awk \'{printf "%.2f", $(NF-2)}\')\r\n\r\n# Rapport de status\r\nREPORT="RAPPORT SYSTEME - $(date)\r\n\r\n\ud83d\udcbe Espace disque: ${DISK_USAGE}%\r\n\ud83e\udde0 Utilisation RAM: ${RAM_USAGE}%  \r\n\u26a1 Charge CPU: ${CPU_LOAD}\r\n\r\nSeuils d\'alerte:\r\n- Disque: 80%\r\n- RAM: 80%\r\n- CPU Load: 2.0"\r\n\r\n# V\xe9rifications et alertes\r\nALERT_NEEDED=false\r\n\r\nif [ "$DISK_USAGE" -gt 80 ]; then\r\n    log_message "ALERTE: Espace disque critique - $DISK_USAGE%"\r\n    ALERT_NEEDED=true\r\nfi\r\n\r\nif [ "$RAM_USAGE" -gt 80 ]; then\r\n    log_message "ALERTE: M\xe9moire RAM critique - $RAM_USAGE%"\r\n    ALERT_NEEDED=true\r\nfi\r\n\r\n# Envoyer rapport si alerte n\xe9cessaire\r\nif [ "$ALERT_NEEDED" = true ]; then\r\n    swaks -t "$ALERT_EMAIL" \\\r\n          -s smtp.gmail.com:587 -tls \\\r\n          -au "monitoring@example.com" \\\r\n          -ap "app_password" \\\r\n          -f "monitoring@example.com" \\\r\n          --h-Subject "\ud83d\udea8 ALERTE SYSTEME - $HOSTNAME" \\\r\n          --body "$REPORT"\r\nfi\r\n\r\nlog_message "Contr\xf4le syst\xe8me effectu\xe9 - Disque:$DISK_USAGE% RAM:$RAM_USAGE% CPU:$CPU_LOAD"\n'})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-ressources-et-documentation",children:"\ud83d\udcda Ressources et Documentation"}),(0,i.jsx)(s.h3,{id:"-liens-essentiels",children:"\ud83d\udd17 Liens Essentiels"}),(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Cat\xe9gorie"}),(0,i.jsx)(s.th,{children:"Ressource"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"SSH"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.a,{href:"https://www.openssh.com/manual.html",children:"Guide OpenSSH"})}),(0,i.jsx)(s.td,{children:"Documentation officielle SSH"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Bash"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.a,{href:"https://notamax.be/bash-01-apprendre-a-scripter-sur-gnu-linux/",children:"Guide Bash"})}),(0,i.jsx)(s.td,{children:"Initiation au scripting Bash"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"WP-CLI"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.a,{href:"https://kinsta.com/fr/blog/wp-cli/",children:"Documentation Kinsta"})}),(0,i.jsx)(s.td,{children:"Guide complet WP-CLI"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"AWS CLI"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.a,{href:"https://aws.amazon.com/fr/getting-started/hands-on/backup-to-s3-cli/",children:"AWS S3 Backup"})}),(0,i.jsx)(s.td,{children:"Configuration AWS CLI"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Cron"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.a,{href:"https://geekflare.com/fr/crontab-linux-with-real-time-examples-and-tools/",children:"Crontab Examples"})}),(0,i.jsx)(s.td,{children:"Exemples pratiques Cron"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Docker"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.a,{href:"https://docs.docker.com/",children:"Docker Documentation"})}),(0,i.jsx)(s.td,{children:"Guide officiel Docker"})]})]})]}),(0,i.jsx)(s.h3,{id:"\ufe0f-bonnes-pratiques-de-s\xe9curit\xe9",children:"\u26a0\ufe0f Bonnes Pratiques de S\xe9curit\xe9"}),(0,i.jsx)(s.h4,{id:"-authentification",children:"\ud83d\udd10 Authentification"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Cl\xe9s SSH"})," plut\xf4t que mots de passe"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Permissions restrictives"})," sur fichiers de cl\xe9s (400)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Authentification \xe0 deux facteurs"})," quand possible"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Rotation r\xe9guli\xe8re"})," des cl\xe9s et mots de passe"]}),"\n"]}),(0,i.jsx)(s.h4,{id:"\ufe0f-surveillance",children:"\ud83d\udee1\ufe0f Surveillance"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Monitoring automatis\xe9"})," des ressources critiques"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Alertes email"})," configur\xe9es correctement"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Logs centralis\xe9s"})," et analys\xe9s r\xe9guli\xe8rement"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Seuils d'alerte"})," adapt\xe9s \xe0 l'environnement"]}),"\n"]}),(0,i.jsx)(s.h4,{id:"-maintenance",children:"\ud83d\udd04 Maintenance"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Sauvegardes automatis\xe9es"})," et test\xe9es"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Mise \xe0 jour syst\xe8me"})," planifi\xe9e"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Nettoyage des logs"})," automatique"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Documentation"})," des proc\xe9dures"]}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-proc\xe9dures-durgence",children:"\ud83d\udea8 Proc\xe9dures d'Urgence"}),(0,i.jsx)(s.h3,{id:"-diagnostic-rapide",children:"\ud83d\udd27 Diagnostic Rapide"}),(0,i.jsx)(s.h4,{id:"serveur-inaccessible",children:"Serveur inaccessible"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# V\xe9rifier les services essentiels\r\nsudo systemctl status ssh nginx apache2 mysql\r\n\r\n# V\xe9rifier l'espace disque\r\ndf -h\r\n\r\n# V\xe9rifier la charge syst\xe8me\r\ntop -bn1 | head -20\n"})}),(0,i.jsx)(s.h4,{id:"espace-disque-satur\xe9",children:"Espace disque satur\xe9"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# Nettoyage d\'urgence\r\nsudo apt autoremove && sudo apt autoclean\r\nsudo find /var/log -name "*.log" -type f -mtime +7 -delete\r\nsudo find /tmp -type f -mtime +7 -delete\r\n\r\n# Identifier les gros fichiers\r\nsudo du -ah --max-depth=2 / | sort -rh | head -20\n'})}),(0,i.jsx)(s.h4,{id:"m\xe9moire-ram-satur\xe9e",children:"M\xe9moire RAM satur\xe9e"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Identifier les processus gourmands\r\nps aux --sort=-%mem | head -10\r\n\r\n# Red\xe9marrer les services si n\xe9cessaire\r\nsudo systemctl restart apache2\r\nsudo systemctl restart mysql\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-support-et-maintenance",children:"\ud83d\udcde Support et Maintenance"}),(0,i.jsx)(s.h3,{id:"-checklist-de-surveillance-quotidienne",children:"\ud83d\udcca Checklist de Surveillance Quotidienne"}),(0,i.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(s.strong,{children:"Espace disque"})," < 80%"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(s.strong,{children:"Utilisation RAM"})," < 80%"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(s.strong,{children:"Charge CPU"})," acceptable"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(s.strong,{children:"Services critiques"})," op\xe9rationnels"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(s.strong,{children:"Logs d'erreur"})," v\xe9rifi\xe9s"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(s.strong,{children:"Sauvegardes"})," effectu\xe9es"]}),"\n"]}),(0,i.jsx)(s.h3,{id:"-maintenance-pr\xe9ventive",children:"\ud83d\udd04 Maintenance Pr\xe9ventive"}),(0,i.jsx)(s.h4,{id:"hebdomadaire",children:"Hebdomadaire"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Nettoyage des logs"})," anciens"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"V\xe9rification des certificats"})," SSL"]}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.strong,{children:"Test des sauvegardes"})}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Mise \xe0 jour des plugins"})," WordPress"]}),"\n"]}),(0,i.jsx)(s.h4,{id:"mensuelle",children:"Mensuelle"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Mise \xe0 jour syst\xe8me"})," compl\xe8te"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Audit des permissions"})," fichiers"]}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.strong,{children:"Optimisation base de donn\xe9es"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.strong,{children:"Test des proc\xe9dures d'urgence"})}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:"Document g\xe9n\xe9r\xe9 le 2025-08-06 08:12:34 UTC par Gerardetienne - Version 5.0 - Guide Complet d'Administration Syst\xe8me"})}),(0,i.jsx)(s.h1,{id:"\ufe0f-guide-avanc\xe9---base-de-donn\xe9es-et-administration-syst\xe8me",children:"\ud83d\uddc4\ufe0f Guide Avanc\xe9 - Base de Donn\xe9es et Administration Syst\xe8me"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Auteur :"})," Gerardetienne",(0,i.jsx)(s.br,{}),"\n",(0,i.jsx)(s.strong,{children:"Date de cr\xe9ation :"})," 2025-01-08",(0,i.jsx)(s.br,{}),"\n",(0,i.jsx)(s.strong,{children:"Derni\xe8re mise \xe0 jour :"})," 2025-01-08 08:15:36 UTC",(0,i.jsx)(s.br,{}),"\n",(0,i.jsx)(s.strong,{children:"Version :"})," 6.0"]}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-table-des-mati\xe8res-1",children:"\ud83d\udccb Table des Mati\xe8res"}),(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#-shells-et-environnements",children:"\ud83d\udcbb Shells et Environnements"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#%EF%B8%8F-gestion-base-de-donn%C3%A9es",children:"\ud83d\uddc4\ufe0f Gestion Base de Donn\xe9es"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#-transfert-de-fichiers",children:"\ud83d\udcc1 Transfert de Fichiers"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#-php-et-extensions",children:"\ud83d\udc18 PHP et Extensions"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#-wordpress-avanc%C3%A9",children:"\ud83d\udd27 WordPress Avanc\xe9"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#-moodle-administration",children:"\ud83d\udcca Moodle Administration"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#%EF%B8%8F-s%C3%A9curit%C3%A9-et-monitoring",children:"\ud83d\udee1\ufe0f S\xe9curit\xe9 et Monitoring"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#%EF%B8%8F-configuration-serveur",children:"\u2699\ufe0f Configuration Serveur"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#-scripts-et-automatisation",children:"\ud83d\udcdd Scripts et Automatisation"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#-maintenance-et-optimisation",children:"\ud83d\udd0d Maintenance et Optimisation"})}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-shells-et-environnements",children:"\ud83d\udcbb Shells et Environnements"}),(0,i.jsx)(s.h3,{id:"-types-de-shells-disponibles",children:"\ud83d\udc1a Types de Shells disponibles"}),(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Shell"}),(0,i.jsx)(s.th,{children:"Description"}),(0,i.jsx)(s.th,{children:"Usage"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"bash"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Bourne Again Shell"})}),(0,i.jsx)(s.td,{children:"99% des distributions Linux"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"sh"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Bourne Shell"})}),(0,i.jsx)(s.td,{children:"Plus ancien, Unix/BSD"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"zsh"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Z Shell"})}),(0,i.jsx)(s.td,{children:"Compatible Bash avec fonctionnalit\xe9s avanc\xe9es"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"csh"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"C Shell"})}),(0,i.jsx)(s.td,{children:"Syntaxe proche du langage C"})]})]})]}),(0,i.jsx)(s.h3,{id:"\ufe0f-gestion-des-fichiers-syst\xe8me",children:"\ud83d\udee0\ufe0f Gestion des fichiers syst\xe8me"}),(0,i.jsx)(s.h4,{id:"vider-un-fichier-sans-le-supprimer",children:"Vider un fichier sans le supprimer"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"echo /dev/null > fichier_a_vider\n"})}),(0,i.jsx)(s.h4,{id:"modifier-la-date-de-derni\xe8re-modification",children:"Modifier la date de derni\xe8re modification"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"R\xe9f\xe9rence :"})," ",(0,i.jsx)(s.a,{href:"https://webdevpro.net/script-de-bash-pour-supprimer-des-fichiers-et-dossiers-en-fonction-dune-periode/",children:"Script Bash pour supprimer des fichiers par p\xe9riode"})]}),"\n"]}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Voir les informations d\xe9taill\xe9es d'un fichier\r\nstat file_name.txt\r\n\r\n# Afficher uniquement la date de cr\xe9ation\r\nstat -c '%w' /home/user/file_name.txt\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"\ufe0f-gestion-base-de-donn\xe9es",children:"\ud83d\uddc4\ufe0f Gestion Base de Donn\xe9es"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Guide complet :"})," ",(0,i.jsx)(s.a,{href:"https://www.rosehosting.com/blog/how-to-create-a-backup-of-mysql-databases-using-mysqldump-on-ubuntu-20-04/",children:"MySQL Backup avec mysqldump"})]}),"\n"]}),(0,i.jsx)(s.h3,{id:"-sauvegarde-mysql-mysqldump",children:"\ud83d\udcbe Sauvegarde MySQL (mysqldump)"}),(0,i.jsx)(s.h4,{id:"configuration-de-base-locale",children:"Configuration de base locale"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Voir la configuration dans config.php\r\ndefine( 'DB_NAME', 'maurice' );\r\ndefine( 'DB_USER', 'maurice_user' );\r\ndefine( 'DB_PASSWORD', 'Yh0R16OFEk14EEQJd4d' );\n"})}),(0,i.jsx)(s.h4,{id:"dump-basique",children:"Dump basique"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Sauvegarde locale\r\nmysqldump -u root -p moodle > backup.sql\r\n\r\n# Exemple avec credentials\r\nmysqldump -u root -p skiillz_30062022V1 > backup_$(date +%Y%m%d).sql\n"})}),(0,i.jsx)(s.h3,{id:"\ufe0f-sauvegarde-depuis-aws-rds",children:"\u2601\ufe0f Sauvegarde depuis AWS RDS"}),(0,i.jsx)(s.h4,{id:"export-depuis-rds",children:"Export depuis RDS"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Commande compl\xe8te avec options RDS\r\nmysqldump -u admin -p database_name \\\r\n          --host=your_db_host.region.rds.amazonaws.com \\\r\n          --set-gtid-purged=OFF \\\r\n          --column-statistics=0 > data_$(date +%Y%m%d).sql\r\n\r\n# Avec mode verbose pour suivi\r\nmysqldump --verbose -u admin -p database_name \\\r\n          --host=your_db_host.region.rds.amazonaws.com \\\r\n          --set-gtid-purged=OFF \\\r\n          --column-statistics=0 > data_verbose.sql\n"})}),(0,i.jsx)(s.h3,{id:"-restauration-de-base-de-donn\xe9es",children:"\ud83d\udd04 Restauration de base de donn\xe9es"}),(0,i.jsx)(s.h4,{id:"restauration-locale",children:"Restauration locale"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Connexion \xe0 MySQL\r\nmysql -u root -p\r\n\r\n# Restauration avec \xe9crasement\r\nmysql --verbose -u root -p moodle < backup.sql\n"})}),(0,i.jsx)(s.h4,{id:"restauration-vers-rds",children:"Restauration vers RDS"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Import vers AWS RDS\r\nmysql --verbose -u admin -p database_name \\\r\n      --host=your_db_host.region.rds.amazonaws.com < data.sql\n"})}),(0,i.jsx)(s.h3,{id:"\ufe0f-gestion-des-bases-de-donn\xe9es",children:"\ud83d\uddc4\ufe0f Gestion des bases de donn\xe9es"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"R\xe9f\xe9rence :"})," ",(0,i.jsx)(s.a,{href:"https://gridscale.io/en/community/tutorials/mysql-datenbank-erstellen-loeschen/",children:"MySQL Database Management"})]}),"\n"]}),(0,i.jsx)(s.h4,{id:"commandes-de-base-mysql",children:"Commandes de base MySQL"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sql",children:"-- Voir les bases de donn\xe9es\r\nSHOW DATABASES;\r\n\r\n-- Cr\xe9er une base\r\nCREATE DATABASE nom_base CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;\r\n\r\n-- Supprimer une base\r\nDROP DATABASE nom_base;\r\n\r\n-- Utiliser une base\r\nUSE nom_base;\r\n\r\n-- Voir les tables\r\nSHOW TABLES;\n"})}),(0,i.jsx)(s.h3,{id:"-maintenance-mysql",children:"\ud83d\udd27 Maintenance MySQL"}),(0,i.jsx)(s.h4,{id:"gestion-des-logs-binaires",children:"Gestion des logs binaires"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sql",children:"-- Voir les logs binaires\r\nSHOW BINARY LOGS;\r\n\r\n-- Purger les anciens logs (plus d'1 jour)\r\nPURGE BINARY LOGS BEFORE DATE(NOW() - INTERVAL 1 DAY) + INTERVAL 0 SECOND;\r\n\r\n-- Purger jusqu'\xe0 un log sp\xe9cifique\r\nPURGE BINARY LOGS TO 'mysql-bin.000123';\n"})}),(0,i.jsx)(s.h4,{id:"nettoyage-durgence-espace-disque",children:"Nettoyage d'urgence (espace disque)"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# Arr\xeater MySQL\r\nsudo service mysql stop\r\n\r\n# Aller dans le r\xe9pertoire MySQL\r\ncd /var/lib/mysql\r\n\r\n# Script de nettoyage (supprime la moiti\xe9 des logs)\r\na=`ls | grep -v relay | grep bin.index`\r\nb=`wc -l < $a`\r\nc=`echo $(($b/2))`\r\nhead -n $c $a | cut -d "/" -f2 | xargs -I {} rm {}\r\nsed "1,${c}d" $a -i\r\n\r\n# Red\xe9marrer MySQL\r\nsudo service mysql start\n'})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-transfert-de-fichiers",children:"\ud83d\udcc1 Transfert de Fichiers"}),(0,i.jsx)(s.h3,{id:"-scp-secure-copy-protocol",children:"\ud83d\udd04 SCP (Secure Copy Protocol)"}),(0,i.jsx)(s.h4,{id:"windows-vers-ubuntu",children:"Windows vers Ubuntu"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Transfert fichier local vers serveur\r\nscp -i yourkey.pem C:\\Users\\username\\Desktop\\doc.zip ubuntu@13.59.88.232:/home/ubuntu/\r\n\r\n# Exemple concret\r\nscp -i yourkey.pem C:\\Users\\admin\\Downloads\\plugin.zip ubuntu@13.247.81.209:/home/ubuntu/\n"})}),(0,i.jsx)(s.h4,{id:"entre-serveurs-ubuntu",children:"Entre serveurs Ubuntu"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Copie r\xe9cursive entre serveurs\r\nscp -i /home/ubuntu/key.pem -r moodledata/ ubuntu@35.180.238.88:/home/ubuntu/\r\n\r\n# Transfert de fichier unique\r\nscp -i key.pem file.sql ubuntu@remote-server:/path/destination/\n"})}),(0,i.jsx)(s.h3,{id:"-t\xe9l\xe9chargement-direct",children:"\ud83c\udf10 T\xe9l\xe9chargement direct"}),(0,i.jsx)(s.h4,{id:"avec-curl",children:"Avec curl"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# T\xe9l\xe9charger un fichier\r\ncurl -O https://download.moodle.org/stable400/moodle-4.0.5.tgz\r\n\r\n# Avec progression\r\ncurl -# -O https://wordpress.org/latest.zip\n"})}),(0,i.jsx)(s.h4,{id:"avec-wget",children:"Avec wget"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# T\xe9l\xe9chargement simple\r\nwget https://download.moodle.org/stable400/moodle-4.0.5.tgz\r\n\r\n# T\xe9l\xe9chargement en arri\xe8re-plan\r\nwget -b https://example.com/large-file.zip\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-php-et-extensions",children:"\ud83d\udc18 PHP et Extensions"}),(0,i.jsx)(s.h3,{id:"-gestion-des-versions-php",children:"\ud83d\udd04 Gestion des versions PHP"}),(0,i.jsx)(s.h4,{id:"mise-\xe0-jour-php",children:"Mise \xe0 jour PHP"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Ajouter le repository Ondrej\r\nsudo apt-add-repository ppa:ondrej/php\r\nsudo apt-get update\r\n\r\n# R\xe9parer les d\xe9pendances cass\xe9es\r\nsudo apt --fix-broken install\r\n\r\n# Installer la nouvelle version\r\nsudo apt-get install php7.4\n"})}),(0,i.jsx)(s.h4,{id:"installation-des-extensions-requises",children:"Installation des extensions requises"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Extensions MySQL\r\nsudo apt-get install php7.4-mysql\r\n\r\n# Extensions compl\xe8tes pour Moodle/WordPress\r\nsudo apt-get install php7.4-xml php7.4-xmlrpc php7.4-mbstring \\\r\n                     php7.4-curl php7.4-zip php7.4-gd php7.4-intl \\\r\n                     php7.4-soap php7.4-sodium\n"})}),(0,i.jsx)(s.h4,{id:"changement-de-version-apache",children:"Changement de version Apache"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# D\xe9sactiver l'ancienne version\r\nsudo a2dismod php7.2\r\n\r\n# Activer la nouvelle version\r\nsudo a2enmod php7.4\r\n\r\n# Red\xe9marrer Apache\r\nsudo systemctl restart apache2\n"})}),(0,i.jsx)(s.h3,{id:"-extensions-sp\xe9ciales",children:"\ud83e\uddea Extensions sp\xe9ciales"}),(0,i.jsx)(s.h4,{id:"soap-pour-moodle",children:"SOAP pour Moodle"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"R\xe9f\xe9rence :"})," ",(0,i.jsx)(s.a,{href:"https://stackoverflow.com/questions/2509143/how-do-i-install-soap-extension",children:"Installation SOAP Extension"})]}),"\n"]}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Installation selon version PHP\r\nsudo apt install php7.4-soap\r\nsudo service apache2 restart\r\n\r\n# V\xe9rifier dans php.ini que l'extension est activ\xe9e\r\n# extension=soap (d\xe9commenter si n\xe9cessaire)\n"})}),(0,i.jsx)(s.h4,{id:"sodium-pour-cryptographie",children:"Sodium pour cryptographie"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# V\xe9rifier si install\xe9\r\nphp -i | grep sodium\r\n\r\n# Installer si n\xe9cessaire\r\nsudo apt install php-sodium\r\n\r\n# Red\xe9marrer Apache\r\nsudo /etc/init.d/apache2 restart\n"})}),(0,i.jsx)(s.h4,{id:"v\xe9rification-des-extensions",children:"V\xe9rification des extensions"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Lister toutes les extensions install\xe9es\r\nphp -m | more\r\n\r\n# Voir les informations PHP\r\nphp -i | less\n"})}),(0,i.jsx)(s.h3,{id:"\ufe0f-configuration-php",children:"\u2699\ufe0f Configuration PHP"}),(0,i.jsx)(s.h4,{id:"localisation-fichiers-de-configuration",children:"Localisation fichiers de configuration"}),(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Bitnami :"})}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Fichier php.ini Bitnami\r\nnano /opt/bitnami/php/etc/php.ini\n"})}),(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Ubuntu standard :"})}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Configuration Apache\r\nnano /etc/php/7.4/apache2/php.ini\r\n\r\n# Configuration CLI\r\nnano /etc/php/7.4/cli/php.ini\n"})}),(0,i.jsx)(s.h4,{id:"v\xe9rifications-syst\xe8me",children:"V\xe9rifications syst\xe8me"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# Version PHP\r\nphp -v\r\n\r\n# Version MySQL\r\nmysql -V\r\n\r\n# Configuration MySQL pour versions < 8.0\r\necho "default_storage_engine = innodb\r\ninnodb_file_per_table = 1\r\ninnodb_file_format = Barracuda" | sudo tee -a /etc/mysql/mysql.conf.d/mysqld.cnf\n'})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-wordpress-avanc\xe9",children:"\ud83d\udd27 WordPress Avanc\xe9"}),(0,i.jsx)(s.h3,{id:"-wp-cli-pour-versions-wordpress",children:"\ud83c\udfaf WP-CLI pour versions WordPress"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Guide complet :"})," ",(0,i.jsx)(s.a,{href:"https://wpbeaches.com/upgrade-downgrade-website-versions-of-wordpress-with-wp-cli/",children:"WordPress Version Management"})]}),"\n"]}),(0,i.jsx)(s.h4,{id:"gestion-des-versions",children:"Gestion des versions"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Voir la version actuelle\r\nwp core version\r\n\r\n# Mettre \xe0 jour vers version sp\xe9cifique\r\nwp core update --version=5.9.4 --force\r\n\r\n# T\xe9l\xe9charger version sp\xe9cifique (sans contenu)\r\nwp core download --skip-content --force --version=5.1.4\r\n\r\n# Mise \xe0 jour vers derni\xe8re version\r\nwp core update\n"})}),(0,i.jsx)(s.h4,{id:"r\xe9solution-des-erreurs",children:"R\xe9solution des erreurs"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# En cas d'erreur de mise \xe0 jour bloqu\xe9e\r\nwp option delete core_updater.lock\n"})}),(0,i.jsx)(s.h3,{id:"\ufe0f-contr\xf4le-des-mises-\xe0-jour-automatiques",children:"\ud83d\udee1\ufe0f Contr\xf4le des mises \xe0 jour automatiques"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Guide :"})," ",(0,i.jsx)(s.a,{href:"https://wpformation.com/desactiver-mises-a-jour-wordpress/",children:"D\xe9sactiver mises \xe0 jour WordPress"})]}),"\n"]}),(0,i.jsx)(s.h4,{id:"dans-wp-configphp",children:"Dans wp-config.php"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-php",children:"// D\xe9sactiver toutes les mises \xe0 jour automatiques\r\ndefine( 'AUTOMATIC_UPDATER_DISABLED', true );\r\n\r\n// D\xe9sactiver uniquement les mises \xe0 jour majeures\r\ndefine( 'WP_AUTO_UPDATE_CORE', false );\r\n\r\n// Activer uniquement les mises \xe0 jour mineures\r\ndefine( 'WP_AUTO_UPDATE_CORE', 'minor' );\r\n\r\n// D\xe9sactiver le cron WordPress (pour gestion manuelle)\r\ndefine('DISABLE_WP_CRON', true);\n"})}),(0,i.jsx)(s.h3,{id:"-s\xe9curit\xe9-wordpress-apr\xe8s-piratage",children:"\ud83d\udd27 S\xe9curit\xe9 WordPress apr\xe8s piratage"}),(0,i.jsx)(s.h4,{id:"nettoyage-durgence",children:"Nettoyage d'urgence"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# Supprimer .htaccess corrompu\r\nls -la\r\nrm .htaccess\r\n\r\n# Voir les fichiers cach\xe9s malveillants\r\nfind . -name "*.php" -type f -exec grep -l "base64_decode\\|eval(" {} \\;\n'})}),(0,i.jsx)(s.h4,{id:"blocage-ip-avec-htaccess",children:"Blocage IP avec htaccess"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Guide :"})," ",(0,i.jsx)(s.a,{href:"https://wpcours.com/wp-tutoriels/bloquer-ip-acces-wordpress/",children:"Bloquer IP WordPress"})]}),"\n"]}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-apache",children:"order allow,deny\r\ndeny from 192.168.2.2\r\ndeny from 10.130.131.6\r\ndeny from 172.16.131.106\r\nallow from all\n"})}),(0,i.jsx)(s.h4,{id:"restauration-propre",children:"Restauration propre"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# 1. Sauvegarder wp-content et wp-config.php\r\ncp -r wp-content wp-content-backup\r\ncp wp-config.php wp-config-backup.php\r\n\r\n# 2. Voir version WordPress actuelle\r\nwp core version --allow-root\r\n\r\n# 3. T\xe9l\xe9charger WordPress propre de m\xeame version\r\n# Vider le r\xe9pertoire et extraire WordPress neuf\r\n\r\n# 4. Restaurer les fichiers sauvegard\xe9s\r\ncp -r wp-content-backup/* wp-content/\r\ncp wp-config-backup.php wp-config.php\r\n\r\n# 5. Corriger les permissions\r\nfind . -type d -exec chmod 755 {} \\;\r\nfind . -type f -exec chmod 664 {} \\;\r\nchown -R www-data:www-data .\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-moodle-administration",children:"\ud83d\udcca Moodle Administration"}),(0,i.jsx)(s.h3,{id:"-guides-dinstallation",children:"\ud83d\udcda Guides d'installation"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"R\xe9f\xe9rences officielles :"})]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://cloudcone.com/docs/article/how-to-install-moodle-on-ubuntu-18-04/",children:"CloudCone Moodle Guide"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://docs.moodle.org/400/en/Step-by-step_Installation_Guide_for_Ubuntu",children:"Moodle Official Ubuntu Guide"})}),"\n"]}),"\n"]}),(0,i.jsx)(s.h3,{id:"-mise-\xe0-jour-moodle",children:"\ud83d\udd04 Mise \xe0 jour Moodle"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Guide officiel :"})," ",(0,i.jsx)(s.a,{href:"https://docs.moodle.org/400/en/Upgrading",children:"Moodle Upgrading"})]}),"\n"]}),(0,i.jsx)(s.h4,{id:"dossiers-\xe0-sauvegarder-plugins-ind\xe9pendants",children:"Dossiers \xe0 sauvegarder (plugins ind\xe9pendants)"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Dossiers critiques \xe0 pr\xe9server\r\ncp -r filter filter-backup\r\ncp -r blocks blocks-backup  \r\ncp -r mod mod-backup\r\ncp -r themes themes-backup\n"})}),(0,i.jsx)(s.h4,{id:"urls-dadministration",children:"URLs d'administration"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Acc\xe8s upgrade Moodle\r\nhttps://your-domain.com/admin/index.php?confirmupgrade=1&confirmrelease=1&showallplugins=1&cache=0\r\n\r\n# Statistiques Moodle (apr\xe8s login admin)\r\nhttps://cours.skiillz.com/my/\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"\ufe0f-s\xe9curit\xe9-et-monitoring",children:"\ud83d\udee1\ufe0f S\xe9curit\xe9 et Monitoring"}),(0,i.jsx)(s.h3,{id:"-surveillance-r\xe9seau-et-trafic",children:"\ud83d\udd0d Surveillance r\xe9seau et trafic"}),(0,i.jsx)(s.h4,{id:"installation-ifstat",children:"Installation ifstat"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Installer ifstat pour monitoring r\xe9seau\r\nsudo apt-get install ifstat\r\n\r\n# Surveiller le trafic r\xe9seau\r\nifstat -l\n"})}),(0,i.jsx)(s.h3,{id:"-gestion-des-processus",children:"\ud83d\udc65 Gestion des processus"}),(0,i.jsx)(s.h4,{id:"surveillance-des-processus",children:"Surveillance des processus"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Vue interactive des processus\r\nhtop\r\n\r\n# Vue arborescente\r\nps aux --forest\r\n\r\n# Tuer un processus\r\nkill PID_NUMBER\n"})}),(0,i.jsx)(s.h3,{id:"-optimisation-apache-mpm",children:"\u26a1 Optimisation Apache MPM"}),(0,i.jsx)(s.h4,{id:"configuration-worker-mpm",children:"Configuration Worker MPM"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"R\xe9f\xe9rence :"})," ",(0,i.jsx)(s.a,{href:"https://stackoverflow.com/questions/36924952/ah00161-server-reached-maxrequestworkers-setting-consider-raising-the-maxreque",children:"Apache MaxRequestWorkers"})]}),"\n"]}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-apache",children:"# /etc/apache2/mods-available/mpm_worker.conf\r\n<IfModule mpm_worker_module>\r\n    StartServers             2\r\n    MinSpareThreads          25\r\n    MaxSpareThreads          75\r\n    ThreadLimit              64\r\n    ThreadsPerChild          25\r\n    MaxRequestWorkers        150\r\n    MaxConnectionsPerChild   0\r\n    ServerLimit              256\r\n</IfModule>\n"})}),(0,i.jsx)(s.h4,{id:"configuration-prefork-mpm",children:"Configuration Prefork MPM"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-apache",children:"# /etc/apache2/mods-enabled/mpm_prefork.conf\r\n<IfModule mpm_prefork_module>\r\n    StartServers             5\r\n    MinSpareServers          5\r\n    MaxSpareServers          10\r\n    MaxRequestWorkers        150\r\n    MaxConnectionsPerChild   0\r\n</IfModule>\n"})}),(0,i.jsx)(s.h3,{id:"-calcul-des-ressources",children:"\ud83d\udcca Calcul des ressources"}),(0,i.jsx)(s.h4,{id:"formule-maxrequestworkers",children:"Formule MaxRequestWorkers"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Calcul recommand\xe9\r\n# MaxRequestWorkers = RAM_disponible / RAM_par_processus\r\n\r\n# Exemple avec 8GB RAM, 50MB par processus :\r\n# 8000 MB / 50 MB = 160\r\n# Donc MaxRequestWorkers = 160\n"})}),(0,i.jsx)(s.h4,{id:"diagnostic-apache",children:"Diagnostic Apache"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Voir le module MPM utilis\xe9\r\napache2ctl -V | grep MPM\r\n\r\n# Voir tous les modules actifs\r\napache2ctl -M\r\n\r\n# Compter les processus Apache\r\nps aux | grep apache | wc -l\r\n\r\n# Voir configuration actuelle\r\negrep 'MaxRequestWorkers|ServerLimit' /etc/apache2/mods-enabled/mpm_prefork.conf\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"\ufe0f-configuration-serveur",children:"\u2699\ufe0f Configuration Serveur"}),(0,i.jsx)(s.h3,{id:"-extension-despace-disque-aws",children:"\ud83d\udcbe Extension d'espace disque (AWS)"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Guide AWS :"})," ",(0,i.jsx)(s.a,{href:"https://docs.aws.amazon.com/fr_fr/AWSEC2/latest/UserGuide/recognize-expanded-volume-linux.html",children:"Recognize Expanded Volume Linux"})]}),"\n"]}),(0,i.jsx)(s.h4,{id:"\xe9tapes-dextension",children:"\xc9tapes d'extension"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# 1. Voir la liste des espaces\r\nlsblk\r\n\r\n# 2. \xc9tendre la partition (selon lsblk)\r\nsudo growpart /dev/nvme0n1 1\r\n\r\n# 3a. Si syst\xe8me XFS\r\nsudo xfs_growfs -d /\r\n\r\n# 3b. Si syst\xe8me Ext4\r\nsudo resize2fs /dev/nvme0n1p1\r\n\r\n# Pour type xvda (EC2 plus anciens)\r\nsudo growpart /dev/xvda 1\r\nsudo xfs_growfs -d /\n"})}),(0,i.jsx)(s.h3,{id:"-phpmyadmin-bitnami",children:"\ud83c\udf10 phpMyAdmin Bitnami"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Guide officiel :"})," ",(0,i.jsx)(s.a,{href:"https://docs.bitnami.com/aws/faq/get-started/access-phpmyadmin/",children:"Access phpMyAdmin Bitnami"})]}),"\n"]}),(0,i.jsx)(s.h4,{id:"tunnel-ssh-pour-acc\xe8s-local",children:"Tunnel SSH pour acc\xe8s local"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# Cr\xe9er tunnel SSH vers port 8888\r\nssh -N -L 8888:127.0.0.1:80 -i LightsailV2.pem bitnami@your-domain.com\r\n\r\n# Exemple concret\r\nssh -N -L 8888:127.0.0.1:80 -i "LightsailDefaultKey-eu-west-3.pem" bitnami@15.237.52.208\r\n\r\n# Acc\xe8s via navigateur local\r\n# http://127.0.0.1:8888/phpmyadmin/\n'})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-scripts-et-automatisation",children:"\ud83d\udcdd Scripts et Automatisation"}),(0,i.jsx)(s.h3,{id:"-boucles-bash-avanc\xe9es",children:"\ud83d\udd01 Boucles Bash avanc\xe9es"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"R\xe9f\xe9rence :"})," ",(0,i.jsx)(s.a,{href:"https://www.delftstack.com/fr/howto/linux/loop-over-files-in-bash/",children:"Loop Over Files in Bash"})]}),"\n"]}),(0,i.jsx)(s.h4,{id:"parcours-de-fichiers",children:"Parcours de fichiers"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# Afficher tous les fichiers du r\xe9pertoire\r\nfor file in *; do echo $file; done\r\n\r\n# \xc9crire dans tous les fichiers\r\nfor file in *; do echo -e "$file\\nHello World!" > $file; done\r\n\r\n# Cr\xe9er des sauvegardes\r\nfor file in *; do cp $file "$file.bak"; done\r\n\r\n# Copier vers un autre r\xe9pertoire\r\nfor filedir in *; do cp -r $filedir /mnt/efs/destination/ -v; done\n'})}),(0,i.jsx)(s.h3,{id:"-recherche-et-remplacement",children:"\ud83d\udd0d Recherche et remplacement"}),(0,i.jsx)(s.h4,{id:"remplacement-de-texte-avec-sed",children:"Remplacement de texte avec sed"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"Guide :"})," ",(0,i.jsx)(s.a,{href:"https://www.cyberciti.biz/faq/how-to-use-sed-to-find-and-replace-text-in-files-in-linux-unix-shell/",children:"Find and Replace with sed"})]}),"\n"]}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Remplacement simple\r\nsudo sed -i 's/height: 60px/height: 80px/g' moderation/index.html\r\n\r\n# Remplacement dans tous les fichiers du r\xe9pertoire\r\nsed -i 's/ancienne_chaine/nouvelle_chaine/g' *\r\n\r\n# Sauvegarde automatique avant modification\r\nsed -i.bak 's/old/new/g' file.txt\n"})}),(0,i.jsx)(s.h4,{id:"recherche-de-fichiers",children:"Recherche de fichiers"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Chercher un nom de fichier sp\xe9cifique\r\nfind . -name 'subscribe.php' -print\r\n\r\n# Chercher du contenu dans les fichiers\r\ngrep -r 'texte_recherche' ./\r\n\r\n# Filtrer les logs WordPress\r\ntail -f debug.log | grep error\n"})}),(0,i.jsx)(s.h3,{id:"-scripts-de-nettoyage",children:"\ud83e\uddf9 Scripts de nettoyage"}),(0,i.jsx)(s.h4,{id:"nettoyage-des-logs-syst\xe8me",children:"Nettoyage des logs syst\xe8me"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"R\xe9f\xe9rence :"})," ",(0,i.jsx)(s.a,{href:"https://unix.stackexchange.com/questions/130786/can-i-remove-files-in-var-log-journal-and-var-cache-abrt-di-usr",children:"Log File Management Ubuntu"})]}),"\n"]}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Voir l'espace occup\xe9 par les journaux\r\njournalctl --disk-usage\r\n\r\n# Nettoyer jusqu'\xe0 une taille limite\r\nsudo journalctl --vacuum-size=500M\r\n\r\n# Configuration permanente dans /etc/systemd/journald.conf\r\necho \"SystemMaxUse=50M\" | sudo tee -a /etc/systemd/journald.conf\r\nsudo systemctl restart systemd-journald.service\n"})}),(0,i.jsx)(s.h4,{id:"nettoyage-syslog",children:"Nettoyage syslog"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Vider le syslog\r\nsudo > /var/log/syslog\r\nsudo systemctl restart syslog\n"})}),(0,i.jsx)(s.h4,{id:"configuration-logrotate",children:"Configuration logrotate"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# \xc9diter la configuration rsyslog\r\nsudo nano /etc/logrotate.d/rsyslog\r\n\r\n# Ajouter configuration avec limite de taille\r\n/var/log/syslog\r\n{\r\n    rotate 7\r\n    daily\r\n    maxsize 1G\r\n    missingok\r\n    notifempty\r\n    delaycompress\r\n    compress\r\n    postrotate\r\n        /usr/lib/rsyslog/rsyslog-rotate\r\n    endscript\r\n}\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-maintenance-et-optimisation",children:"\ud83d\udd0d Maintenance et Optimisation"}),(0,i.jsx)(s.h3,{id:"-gestion-avanc\xe9e-des-fichiers-1",children:"\ud83d\udcc2 Gestion avanc\xe9e des fichiers"}),(0,i.jsx)(s.h4,{id:"docker---r\xe9solution-probl\xe8me-base-de-donn\xe9es",children:"Docker - R\xe9solution probl\xe8me base de donn\xe9es"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Voir les conteneurs actifs\r\ndocker ps\r\n\r\n# Inspecter la configuration r\xe9seau\r\ndocker inspect nom_container_database\r\n# R\xe9cup\xe9rer l'IPAddress\r\n\r\n# Modifier wp-config.php avec la nouvelle IP\r\ndefine( 'DB_HOST', '172.18.0.2' ); // IP du conteneur\n"})}),(0,i.jsx)(s.h3,{id:"-ex\xe9cution-de-fichiers-php",children:"\ud83d\udd27 Ex\xe9cution de fichiers PHP"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Ex\xe9cuter un script PHP en ligne de commande\r\nphp test.php\r\n\r\n# Avec affichage des erreurs\r\nphp -d display_errors=1 test.php\n"})}),(0,i.jsx)(s.h3,{id:"-contr\xf4le-dacc\xe8s-et-s\xe9curit\xe9",children:"\ud83c\udf10 Contr\xf4le d'acc\xe8s et s\xe9curit\xe9"}),(0,i.jsx)(s.h4,{id:"blocage-de-sites-pare-feu-applicatif",children:"Blocage de sites (pare-feu applicatif)"}),(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\ud83d\udcd6 ",(0,i.jsx)(s.strong,{children:"R\xe9f\xe9rence :"})," ",(0,i.jsx)(s.a,{href:"https://sospc.name/bloquer-acces-sites/",children:"Bloquer acc\xe8s sites"})]}),"\n"]}),(0,i.jsx)(s.h4,{id:"gestion-des-logs-journaux",children:"Gestion des logs journaux"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Contr\xf4ler et supprimer fichiers journal Ubuntu\r\n# R\xe9pertoire principal des journaux\r\nls -la /var/log/journal/\r\n\r\n# Nettoyer selon la taille\r\nsudo journalctl --vacuum-size=100M\r\n\r\n# Nettoyer selon l'\xe2ge\r\nsudo journalctl --vacuum-time=7d\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-ressources-et-documentation-1",children:"\ud83d\udcda Ressources et Documentation"}),(0,i.jsx)(s.h3,{id:"-r\xe9f\xe9rences-essentielles",children:"\ud83d\udd17 R\xe9f\xe9rences Essentielles"}),(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Cat\xe9gorie"}),(0,i.jsx)(s.th,{children:"Ressource"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"MySQL"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.a,{href:"https://www.rosehosting.com/blog/how-to-create-a-backup-of-mysql-databases-using-mysqldump-on-ubuntu-20-04/",children:"RoseHosting MySQL Backup"})}),(0,i.jsx)(s.td,{children:"Guide complet mysqldump"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Moodle"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.a,{href:"https://docs.moodle.org/400/en/Step-by-step_Installation_Guide_for_Ubuntu",children:"Official Installation Guide"})}),(0,i.jsx)(s.td,{children:"Installation Ubuntu officielle"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"WordPress"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.a,{href:"https://wpbeaches.com/upgrade-downgrade-website-versions-of-wordpress-with-wp-cli/",children:"WP-CLI Version Management"})}),(0,i.jsx)(s.td,{children:"Gestion versions WordPress"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Apache"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.a,{href:"https://bobcares.com/blog/server-reached-maxrequestworkers-setting/",children:"MaxRequestWorkers Tuning"})}),(0,i.jsx)(s.td,{children:"Optimisation Apache"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"PHP"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.a,{href:"https://stackoverflow.com/questions/2509143/how-do-i-install-soap-extension",children:"SOAP Extension Install"})}),(0,i.jsx)(s.td,{children:"Installation extensions PHP"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Bash"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.a,{href:"https://www.delftstack.com/fr/howto/linux/loop-over-files-in-bash/",children:"Loop Over Files"})}),(0,i.jsx)(s.td,{children:"Scripts Bash avanc\xe9s"})]})]})]}),(0,i.jsx)(s.h3,{id:"\ufe0f-bonnes-pratiques-de-production",children:"\u26a0\ufe0f Bonnes Pratiques de Production"}),(0,i.jsx)(s.h4,{id:"-s\xe9curit\xe9-base-de-donn\xe9es",children:"\ud83d\udd10 S\xe9curit\xe9 Base de Donn\xe9es"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Sauvegardes automatis\xe9es"})," quotidiennes"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Rotation des logs"})," binaires MySQL"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Monitoring espace disque"})," en continu"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Acc\xe8s restreint"})," aux utilisateurs privil\xe9gi\xe9s"]}),"\n"]}),(0,i.jsx)(s.h4,{id:"\ufe0f-s\xe9curit\xe9-web",children:"\ud83d\udee1\ufe0f S\xe9curit\xe9 Web"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Mise \xe0 jour r\xe9guli\xe8re"})," des CMS (WordPress, Moodle)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Monitoring des plugins"})," et th\xe8mes"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Scanning antivirus"})," p\xe9riodique"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Blocage IP"})," automatis\xe9 pour attaques"]}),"\n"]}),(0,i.jsx)(s.h4,{id:"-performance",children:"\u26a1 Performance"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Optimisation Apache MPM"})," selon ressources"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Cache appropri\xe9"})," pour applications"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Compression gzip"})," activ\xe9e"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Monitoring ressources"})," CPU/RAM/Disk"]}),"\n"]}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-proc\xe9dures-durgence-1",children:"\ud83d\udea8 Proc\xe9dures d'Urgence"}),(0,i.jsx)(s.h3,{id:"-base-de-donn\xe9es-corrompue",children:"\ud83d\udd27 Base de Donn\xe9es Corrompue"}),(0,i.jsx)(s.h4,{id:"mysql-ne-d\xe9marre-pas",children:"MySQL ne d\xe9marre pas"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# V\xe9rifier les logs MySQL\r\nsudo tail -f /var/log/mysql/error.log\r\n\r\n# R\xe9paration InnoDB\r\nsudo mysqld --innodb-force-recovery=1\r\n\r\n# Dump d'urgence si possible\r\nmysqldump --single-transaction --all-databases > emergency_backup.sql\n"})}),(0,i.jsx)(s.h4,{id:"espace-disque-satur\xe9-par-logs",children:"Espace disque satur\xe9 par logs"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Nettoyage d'urgence logs MySQL\r\nsudo service mysql stop\r\ncd /var/lib/mysql\r\nsudo rm mysql-bin.0*\r\nsudo service mysql start\r\n\r\n# Nettoyage logs syst\xe8me\r\nsudo journalctl --vacuum-size=50M\r\nsudo > /var/log/syslog\n"})}),(0,i.jsx)(s.h3,{id:"-site-web-inaccessible",children:"\ud83c\udf10 Site Web inaccessible"}),(0,i.jsx)(s.h4,{id:"wordpressmoodle-compromis",children:"WordPress/Moodle compromis"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# 1. Isoler le site\r\nsudo a2dissite site-name\r\n\r\n# 2. Scanner les fichiers malveillants\r\nfind /var/www/site/ -name "*.php" -exec grep -l "base64_decode\\|eval(" {} \\;\r\n\r\n# 3. Restaurer depuis sauvegarde propre\r\n# 4. Mettre \xe0 jour tous les composants\r\n# 5. Changer tous les mots de passe\n'})}),(0,i.jsx)(s.h4,{id:"apache-surcharg\xe9",children:"Apache surcharg\xe9"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Red\xe9marrage d'urgence\r\nsudo systemctl restart apache2\r\n\r\n# V\xe9rifier les processus\r\nps aux | grep apache | wc -l\r\n\r\n# Ajuster configuration MPM si n\xe9cessaire\r\nsudo nano /etc/apache2/mods-enabled/mpm_prefork.conf\n"})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.h2,{id:"-support-et-maintenance-1",children:"\ud83d\udcde Support et Maintenance"}),(0,i.jsx)(s.h3,{id:"-checklist-maintenance-hebdomadaire",children:"\ud83d\udcca Checklist Maintenance Hebdomadaire"}),(0,i.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(s.strong,{children:"Sauvegardes"})," base de donn\xe9es v\xe9rifi\xe9es"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(s.strong,{children:"Espace disque"})," > 20% libre"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(s.strong,{children:"Logs MySQL"})," purg\xe9s (> 7 jours)"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(s.strong,{children:"Extensions PHP"})," \xe0 jour"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(s.strong,{children:"CMS et plugins"})," mis \xe0 jour"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(s.strong,{children:"Certificats SSL"})," valides"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(s.strong,{children:"Monitoring"})," Apache MPM configur\xe9"]}),"\n"]}),(0,i.jsx)(s.h3,{id:"-proc\xe9dures-mensuelles",children:"\ud83d\udd04 Proc\xe9dures Mensuelles"}),(0,i.jsx)(s.h4,{id:"optimisation-base-de-donn\xe9es",children:"Optimisation Base de Donn\xe9es"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# Optimisation tables MySQL\r\nmysqlcheck -u root -p --optimize --all-databases\r\n\r\n# R\xe9paration si n\xe9cessaire  \r\nmysqlcheck -u root -p --repair --all-databases\r\n\r\n# Analyse des performances\r\nmysql -u root -p -e "SHOW FULL PROCESSLIST;"\n'})}),(0,i.jsx)(s.h4,{id:"audit-s\xe9curit\xe9",children:"Audit S\xe9curit\xe9"}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# Recherche fichiers suspects\r\nfind /var/www/ -name "*.php" -mtime -7 -exec grep -l "eval\\|base64_decode" {} \\;\r\n\r\n# V\xe9rification permissions\r\nfind /var/www/ -type f -perm 0777\r\nfind /var/www/ -type d -perm 0777\r\n\r\n# Analyse logs acc\xe8s\r\nawk \'{print $1}\' /var/log/apache2/access.log | sort | uniq -c | sort -nr | head -20\n'})}),(0,i.jsx)(s.hr,{}),(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:"Document g\xe9n\xe9r\xe9 le 2025-01-08 08:15:36 UTC par Gerardetienne - Version 6.0 - Guide Avanc\xe9 Base de Donn\xe9es et Administration Syst\xe8me"})})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},5946:(e,s,r)=>{r.d(s,{A:()=>t});var n=r(6540);const i={authContainer:"authContainer_veE8",authForm:"authForm_NEvk",title:"title_dU8V",inputGroup:"inputGroup_XtQE",label:"label_VuI_",input:"input_V5Cb",button:"button_IdZi",error:"error_AAJf"};var l=r(4848);const a="gerard",d="Rol03613";function t({children:e}){const[s,r]=(0,n.useState)(!1),[t,c]=(0,n.useState)(""),[o,u]=(0,n.useState)(""),[h,p]=(0,n.useState)("");return s?e:(0,l.jsx)("div",{className:i.authContainer,children:(0,l.jsxs)("form",{className:i.authForm,onSubmit:function(e){e.preventDefault(),t===a&&o===d?(r(!0),p("")):p("Identifiants incorrects.")},children:[(0,l.jsx)("h2",{className:i.title,children:"\ud83d\udd12 Acc\xe8s prot\xe9g\xe9"}),(0,l.jsxs)("div",{className:i.inputGroup,children:[(0,l.jsx)("label",{className:i.label,htmlFor:"login",children:"Login"}),(0,l.jsx)("input",{id:"login",className:i.input,value:t,onChange:e=>c(e.target.value),autoFocus:!0,placeholder:"Votre identifiant"})]}),(0,l.jsxs)("div",{className:i.inputGroup,children:[(0,l.jsx)("label",{className:i.label,htmlFor:"password",children:"Mot de passe"}),(0,l.jsx)("input",{id:"password",className:i.input,type:"password",value:o,onChange:e=>u(e.target.value),placeholder:"Votre mot de passe"})]}),(0,l.jsx)("button",{className:i.button,type:"submit",children:"Se connecter"}),h&&(0,l.jsx)("div",{className:i.error,children:h})]})})}},8453:(e,s,r)=>{r.d(s,{R:()=>a,x:()=>d});var n=r(6540);const i={},l=n.createContext(i);function a(e){const s=n.useContext(l);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),n.createElement(l.Provider,{value:s},e.children)}}}]);